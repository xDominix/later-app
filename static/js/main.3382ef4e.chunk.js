(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports={flex:"PduyA2x5bVVFm8khD3AjU",margin:"-Ybgvl6lYu1BAx9s0Zq46",rank:"_1L8gypHzvKdfnWP_v5w0ds"}},,,function(e,t,n){e.exports={divflex:"_14GuKWQsysnOigZ38edRyR",table:"_3z3b2CYbvBzWXJe28NNKjL",hand:"_1DMTE6skffVup0HjbbZkuI"}},function(e,t,n){e.exports={handtable:"_3JbV29M6s4yAaLUmK6pJ48",timer:"_2phrPiC4ETAZ3H2y5SU399",wave:"_22E46PPA_LtA-NjyubSCul",info:"_1ZFBMhCcyJSUuVakD70szv",sidebar:"_26dsF5MFHakkuIPLKGYEx_",home:"_2j_K-35aV5VbWyZbuYDBVs"}},,function(e,t,n){e.exports={timer:"_1M0-VINM6LPFf_yKOukoPY",redTimer:"_3swyZaXMINgZdQBpZhgwJO",gameStatusBody:"d7VmnFBEOJ4MOj_lq1P4-"}},function(e,t,n){e.exports={content:"I7EojV80RM7Y6VvhWoCRI",flex:"wkgj8TPwSJ9AIeZghWGDC",head:"_2FnLTjKWhc5JAfdFVexEvj",foot:"_15xOZZGjo_6Rq-_38ZXom_"}},,,function(e,t,n){},,,function(e,t,n){e.exports=n(34)},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(20),c=n.n(l),i=(n(31),n(2)),o=n(5),u=n(6),s=n(11),d=n(7),m=n(10),f=r.a.createContext(),b=function(e){return localStorage.getItem(e)||localStorage.setItem(e,0),Number(localStorage.getItem(e))},h=function(e){var t=e.children,n=Object(a.useState)(b("balance")),l=Object(i.a)(n,2),c=l[0],o=l[1],u=Object(a.useState)(b("xp")),s=Object(i.a)(u,2),d=s[0],m=s[1],h={balance:c,xp:d,chargeBalance:function(e){return function(e){localStorage.setItem("balance",c+e),o(c+e)}(e)},chargeXp:function(e){return function(e){localStorage.setItem("xp",d+e),m(d+e)}(e)}};return r.a.createElement(f.Provider,{value:h},t)},v=(n(19),function(e){var t=e.text,n=e.onClose,l=Object(a.useRef)("");return r.a.createElement("div",null,r.a.createElement("div",{style:{zIndex:100},className:"centered dialog-box fade darker-color"},r.a.createElement("button",{className:"close-button",onClick:function(){return n()}},r.a.createElement("span",{role:"img","aria-label":"close"},"\u274c")),r.a.createElement("div",null,t),r.a.createElement("div",{style:{margin:"20px"}},r.a.createElement("input",{type:"text",maxLength:"15",ref:l}),r.a.createElement("button",{onClick:function(){n(l.current.value)}},"OK!"))))}),g=function(e){var t=e.title,n=e.text,a=e.bold,l=e.onClose;return r.a.createElement("div",{className:"fade"},r.a.createElement("div",{style:{zIndex:99},className:"centered dialog-box darker-color"},r.a.createElement("button",{className:"close-button",onClick:l},r.a.createElement("span",{role:"img","aria-label":"close"},"\u274c")),r.a.createElement("div",null,t),n&&r.a.createElement("div",{style:{marginTop:"10px",fontSize:"24px"}},n," ",r.a.createElement("b",{style:{fontSize:"24px"}},a))))},p=r.a.createContext(),E=function(e){var t=e.children,n=Object(a.useState)(null),l=Object(i.a)(n,2),c=l[0],o=l[1],u=Object(a.useState)(null),s=Object(i.a)(u,2),d=s[0],m=s[1],f={textDialog:c,setTextDialog:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o({title:e,text:t,bold:n})},inputDialog:d,setInputDialog:function(e,t){m({text:e,onClose:t})},isDialog:null!==d||null!==c};return r.a.createElement(p.Provider,{value:f},t,d&&r.a.createElement(v,{text:d.text,onClose:function(e){d.onClose(e),m(null)}}),c&&!d&&r.a.createElement(g,{title:c.title,text:c.text,bold:c.bold,onClose:function(){o(null)}}))},y=r.a.createContext(),O=function(e){var t=e.children,n=Object(a.useContext)(p).setTextDialog,l=Object(a.useState)(null),c=Object(i.a)(l,2),o=c[0],u=c[1],s={isNotification:null!==o,setNotification:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u({title:e,text:t,bold:n})},showNotification:function(){n(o.title,o.text,o.bold),u(null)}};return r.a.createElement(y.Provider,{value:s},t)},j={0:"imnew",1:"name40",2:"greenwin"},x={imnew:80,name40:40,greenwin:70},k=r.a.createContext(),C=function(e){var t=e.children,n=Object(a.useContext)(y).setNotification,l=Object(a.useContext)(p),c=l.inputDialog,o=l.setInputDialog,u=l.setTextDialog,s=Object(a.useContext)(f).chargeBalance,d=Object(a.useState)(null),m=Object(i.a)(d,2),b=m[0],h=m[1],v=function(e){if(e)if(x[e]){var t=N(e);C(t)?u("You already used this code..."):O(t)?(E(t),s(x[e])):u("Are u a cheater?")}else u("Unknown code :(")};Object(a.useEffect)(function(){b&&o("Type a secret code:",v)},[b]);Object(a.useEffect)(function(){c||h(!1)},[c]);var g=function(e){var t=j[e],n=localStorage.getItem("codesToUse"),a=JSON.parse(n);a&&a.push(t),n=a?JSON.stringify(a):JSON.stringify([t]),localStorage.setItem("codesToUse",n)},E=function(e){var t=j[e],n=localStorage.getItem("usedCodes"),a=JSON.parse(n);a&&a.push(t),n=a?JSON.stringify(a):JSON.stringify([t]),localStorage.setItem("usedCodes",n)},O=function(e){var t=localStorage.getItem("codesToUse");return!!t&&(t=JSON.parse(t)).includes(j[e])},C=function(e){var t=localStorage.getItem("usedCodes");return!!t&&(t=JSON.parse(t)).includes(j[e])},N=function(e){return Object.keys(j).find(function(t){return j[t]===e})},S={isCodeDialogOpen:b,openCodeDialog:function(){b||h(!0)},saveCode:function(e,t){j[e]?(O(e)||g(e),n(t,"Use code: ",j[e])):console.log("Save code failed")},isCodeUsed:C};return r.a.createElement(k.Provider,{value:S},t)},N=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).getRandomName=function(e){return e&&1!==n.getRandom(3)?D[n.getRandom(D.length)]:"Player"+n.getRandom(1e3)},n.getMyName=function(){var e=localStorage.getItem("name");return e||(e=n.getRandomName(!1)),e},n.setMyName=function(e){localStorage.getItem("name")||n.props.codeContext.saveCode(1,"Congrats you set your name!"),localStorage.setItem("name",e),n.setState({name:e})},n.handleOnClick=function(){n.context.setInputDialog("Change your name",function(e){e&&""!==e&&n.setMyName(e)})},n.state={name:""},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.myname?this.setState({name:this.getMyName()}):this.setState({name:this.getRandomName(!0)})}},{key:"getRandom",value:function(e){return Math.floor(Math.random()*e)}},{key:"render",value:function(){var e=this;return r.a.createElement("ins",{className:this.props.clickable?"hoverable underline":"",style:{fontWeight:this.props.bold?"bold":"none"},onClick:function(){e.props.clickable&&e.handleOnClick()}},this.state.name)}}]),t}(r.a.Component);N.contextType=p;var S,w=(S=N,function(e){return r.a.createElement(k.Consumer,null,function(t){return r.a.createElement(S,Object.assign({codeContext:t},e))})}),D=["Lara Croft","ElChapo","Airport Hobo","Minecraft Steve","HarrietThugman","Pinball Tables","Flack","Red Rhino","not_james_bond","bread_pitt","Norma Scock","well_endowed","averagestudent","avo_cuddle","Joyful","chuck_norris","abductedbyaliens","Adobo_Ahai","Not-Insync","heisenberg_blue","PaniniHead","no_one_cares","pixie_dust","manic_pi","look_mom","botaccount","QuarQueen","Reese_With","ReeseWithafork","ImageNotUploaded","No_Feet_Pics","wheretomatoes","TequilaBird","the_other","not you","PaintMeLike","Hot_Name_Here","BasicBeach","thot_patrol","my_anaconda_does","kim_chi","username_copied","Ariana_Grande","defasff"],I=n(8),A=(n(32),function(e){var t=e.game,n=e.main,l=Object(a.useContext)(f),c=l.xp,i=l.balance,o=function(){return!s()||!u()},u=function(){return t.minXp<=c},s=function(){return t.enterPrice<=i};return r.a.createElement("div",{className:"forth-color "+(n?"main-box":"box")},o()&&r.a.createElement("span",{className:"info noselect tooltip",role:"img","aria-label":"lock"},"\ud83d\udd12",r.a.createElement("span",{className:"tooltiptext"},u()?"not enough money":t.minXp+"xp +")),r.a.createElement(I.b,{className:n?"main-head-font":"head-font",style:{textDecoration:"none"},to:o()?"#":"/waiting-room/"+t.id},r.a.createElement("div",{className:"third-color "+(n?"main-head":"head")},t.name,r.a.createElement("div",null,t.enterPrice,"$"))),r.a.createElement("div",{className:"foot noselect "+(n?"main-foot-font":"foot-font")},r.a.createElement("div",null,t.bids[0],"...",t.bids[t.bids.length-1]),r.a.createElement("div",null,t.type)))}),T=n(9),M=n.n(T),P=function e(t,n,a,r,l,c,i){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:30;Object(o.a)(this,e),this.id=t,this.rank=a,this.name=n,this.handDeckSize=5,this.tableDeckSize=5,this.bids=new Array(this.tableDeckSize).fill(r),this.bids[this.tableDeckSize-1]=l,this.type=c,this.minXp=i,this.roundTime=u,this.enterPrice=this.bids.reduce(function(e,t){return e+t},0)/2},_="HIDDEN",R="OPEN",z="BEGINNER",F=n(17),B=n.n(F),G={games:[new P(0,"PLAY",z,10,20,_,0),new P(1,"LATER",z,20,80,_,100),new P(2,"EQUAL",z,100,100,_,300),new P(3,"FAST",z,200,400,_,500),new P(4,"OPEN",z,300,1200,R,900),new P(5,"PRO",z,1e3,1e3,R,1e3)],getGame:function(e){return G.games[e]},getGames:function(e){return G.games.filter(function(t){return t.rank===e})}},J=function(){var e=Object(a.useContext)(y),t=e.isNotification,n=e.showNotification,l=Object(a.useContext)(k),c=l.saveCode,i=l.isCodeUsed,o=Object(a.useContext)(p).isDialog,u=z,s=G.getGames(u);return Object(a.useEffect)(function(){var e=setTimeout(function(){i(0)||c(0,"Hello new player! Ready to start?")},8e3);return function(){return clearTimeout(e)}},[]),Object(a.useEffect)(function(){if(t){var e=setTimeout(function(){return n()},1e3);return function(){return clearTimeout(e)}}},[t]),r.a.createElement("div",null,r.a.createElement("div",{className:"blurable fade "+B()({blured:o})},r.a.createElement("h1",{style:{textAlign:"center",marginTop:"50px"}},"Hello,",r.a.createElement(w,{myname:!0,clickable:!0}),"!"),r.a.createElement("div",{className:M.a.flex},r.a.createElement("div",{className:M.a.margin},"200$+",r.a.createElement("div",{className:M.a.margin},r.a.createElement(A,{game:s[2]}),r.a.createElement(A,{game:s[3]}))),r.a.createElement("div",{className:M.a.margin,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},r.a.createElement(A,{game:s[0],main:!0}),r.a.createElement(A,{game:s[1]})),r.a.createElement("div",{className:M.a.margin},"1000$+",r.a.createElement("div",{className:M.a.margin},r.a.createElement(A,{game:s[4]}),r.a.createElement(A,{game:s[5]}))))),r.a.createElement("div",{className:M.a.rank},"CURRENT RANK: ",u))},L=n(4),U=n(1),Y=function(){function e(t,n){Object(o.a)(this,e),this.color=t,this.figure=n}return Object(u.a)(e,[{key:"equal",value:function(e){return this.color===e.color&&this.figure===e.figure}},{key:"isCloser",value:function(e,t){var n=Math.abs(this.figure-t.figure),a=Math.abs(e.figure-t.figure);return n<a||!(n>a)&&t.getColorOfColor()===this.getColorOfColor()}},{key:"getColorOfColor",value:function(){return"hearts"===this.color||"diamonds"===this.color?"red":"black"}},{key:"toString",value:function(){return W(this.figure)+" of "+Z(this.color)}},{key:"toStringColor",value:function(){return Z(this.color)}},{key:"toStringFigure",value:function(){return W(this.figure)}}]),e}(),H={hearts:"hearts",clubs:"clubs",diamonds:"diamonds",spades:"spades"},V={2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,J:11,Q:12,K:13,A:14},W=function(e){switch(e){case V[2]:return"2";case V[3]:return"3";case V[4]:return"4";case V[5]:return"5";case V[6]:return"6";case V[7]:return"7";case V[8]:return"8";case V[9]:return"9";case V[10]:return"10";case V.J:return"jack";case V.Q:return"queen";case V.K:return"king";case V.A:return"ace";default:return""}},Z=function(e){switch(e){case H.hearts:return"Hearts";case H.clubs:return"Clubs";case H.diamonds:return"Diamonds";case H.spades:return"Spades";default:return""}},K=function(){function e(t,n,a){Object(o.a)(this,e),this.cards=a?a.getCards():q(t,n)}return Object(u.a)(e,[{key:"getCard",value:function(e){return this.cards[e]}},{key:"getCards",value:function(){return this.cards}},{key:"isCard",value:function(e){return 0!==this.cards.filter(function(t){return t.equal(e)}).length}},{key:"takeOffCardByIndex",value:function(e){return this.cards[e]=null,this}},{key:"getCardsLength",value:function(){return this.getCards().filter(function(e){return null!==e}).length}},{key:"getCardsSize",value:function(){return this.cards.length}},{key:"getRandomIndex",value:function(){var e=this.getCardsLength();if(0===e)return console.log("wrong use"),-1;for(var t=Q(e),n=0;n<this.getCardsSize();n++)if(null!==this.cards[n]){if(0===t)return n;t--}return console.log("wrong use"),-1}}],[{key:"New",value:function(t,n){return new e(t,n,null)}},{key:"Copy",value:function(t){return new e(null,null,t)}}]),e}(),$=function(){function e(t,n,a,r){Object(o.a)(this,e),this.cards=r?this.cards=r.toArray():X(t,n,a)}return Object(u.a)(e,[{key:"getCard",value:function(e){return this.cards[e]}},{key:"getCards",value:function(){return this.cards}},{key:"getWaveCode",value:function(){var e=new Array(this.cards.length-1),t=null;return this.cards.forEach(function(n,a){null!==t&&(n.figure===t?e[a-1]=null:e[a-1]=n.figure-t>0),t=n.figure}),e}}],[{key:"New",value:function(t,n,a){return new e(t,n,a,null)}},{key:"Copy",value:function(t){return new e(null,null,null,t)}}]),e}(),q=function(e,t){if(e>=V.length*H.length)return console.log("size too high"),[];for(var n=[],a=function(){var e=new Y(te(t),ee());0===n.filter(function(t){return t.equal(e)}).length&&n.push(e)};n.length!==e;)a();return n},X=function(e,t,n){if(e>=V.length*H.length)return console.log("size too high"),[];for(var a=[],r=function(){var e=new Y(te(),ee());0!==a.filter(function(t){return t.equal(e)}).length||t.isCard(e)||n.isCard(e)||a.push(e)};a.length!==e;)r();return a},Q=function(e){return Math.floor(Math.random()*e)},ee=function(){var e=Object.keys(V);return V[e[e.length*Math.random()<<0]]},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)return 0===Math.floor(2*Math.random())?"red"===e?"hearts":"clubs":"red"===e?"diamonds":"spades";var t=Object.keys(H).filter(function(t){return!e||H[t]===e});return H[t[t.length*Math.random()<<0]]},ne=function(e){var t=e.status;return null===t?r.a.createElement("ins",null,r.a.createElement("span",{role:"img","aria-label":"dot"},"\u26aa\u26aa")):!1===t?r.a.createElement("ins",null,r.a.createElement("span",{role:"img","aria-label":"dot"},"\u26aa\ud83d\udd34")):r.a.createElement("ins",null,r.a.createElement("span",{role:"img","aria-label":"dot"},"\ud83d\udfe2\u26aa"))},ae=n(15),re=n.n(ae),le=function(e){var t=e.bids,n=e.gameStatus,a=function(e){return n&&n.length>e?n[e]:null};return r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",null,"GAME STATUS"),r.a.createElement("div",{className:re.a.gameStatusBody},t.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",null,e,"$"),r.a.createElement(ne,{status:a(t)})," ")})))},ce=n(21),ie=function(e){var t=e.card,n=e.isFlipped,a=e.onClick;return r.a.createElement("div",{className:"flip-card scale-hoverable",onClick:a,style:{transform:n?"rotateY(180deg)":""}},r.a.createElement("div",{className:"flip-card-front"},r.a.createElement("img",{src:se(t,!1),alt:t.toString()})),r.a.createElement("div",{className:"flip-card-back"},r.a.createElement("img",{src:se(t,!0),alt:"Flipped card"})))},oe=function(e){var t=e.style,n=e.index,a=t.height,l=Object(ce.a)(t,["height"]);return r.a.createElement("div",{className:"scale-hoverable relative",style:l},r.a.createElement("img",{style:{height:a,opacity:"0.8"},src:se(),alt:"Mini card"}),r.a.createElement("div",{className:"centered",style:{fontWeight:"bold",fontSize:"20px",transform:"translate(-50%,-65%)"}},n))},ue="/asset-cards-cute",se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===e?[ue,"flip-empty"].join("/")+".png":t?[ue,"flip-"+e.getColorOfColor()].join("/")+".png":[ue,["row",de(e.color),"column",me(e.figure)].join("-")].join("/")+".png"},de=function(e){switch(e){case H.hearts:return 4;case H.clubs:return 1;case H.diamonds:return 2;case H.spades:return 3;default:return 1}},me=function(e){return(e-1)%Object.keys(V).length+1},fe=n(12),be=n.n(fe),he=function(e){var t=e.initSize,n=e.handDeck,a=e.flop,l=e.isAcceptable,c=e.show,i=void 0===c?{index:-1,isActive:!1,cardPreview:!1}:c,o=function(e){return i.isActive&&i.index!==e?"0.5":"1"},u=function(e){return"translate(0,"+(e===i.index&&i.cardPreview?"25px":"0")+") "};return r.a.createElement("div",null,r.a.createElement("div",{className:be.a.divflex+" "+be.a.hand+" forth-color",style:{opacity:l||i.isActive?"1":"0.5"}},new Array(t).fill(0).map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{style:{transition:"transform 0.2s ease-in",transform:u(t),opacity:o(t)}},(l=t,(n&&a?n.getCard(l):null)&&r.a.createElement(ie,{card:n.getCard(t),isFlipped:a.getFlip(t)}))));var l})))},ve=function(e){var t=e.initSize,n=e.handDeck,l=e.flop,c=e.isAcceptable,o=e.onAccept,u=e.show,s=void 0===u?{index:-1,isActive:!1,cardPreview:!0}:u,d=e.enterPrice,m=Object(a.useState)(Object(L.a)(Array(t).keys())),f=Object(i.a)(m,2),b=f[0],h=f[1],v=Object(a.useState)(null),g=Object(i.a)(v,2),p=g[0],E=g[1];Object(a.useEffect)(function(){!1===c&&E(null)},[c]);var y=function(e){return c||s.isActive&&s.index===e?"1":"0.5"},O=function(e){return"translate(0,"+(e===p||null===s.cardPreview&&e===s.index||!0===s.cardPreview&&e===s.index?"-25px":"0")+") "},j=Object(a.useRef)(null),x=Object(a.useRef)(null),k=function(){if(c&&null!==j.current&&null!==x.current){var e=j.current,t=x.current,n=Object(L.a)(b),a=[n[t],n[e]];n[e]=a[0],n[t]=a[1],h(n),j.current=null,x.current=null}};return r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{className:be.a.divflex+" "+be.a.hand+" forth-color",style:{opacity:c||s.isActive?"1":"0.5"}},b.map(function(e,t){return r.a.createElement("div",{key:t,onDragStart:function(){j.current=t},onDragEnter:function(){x.current=t},onDragEnd:k},(a=e,(n&&l?n.getCard(a):null)&&r.a.createElement("div",{style:{position:"relative",transition:"transform 0.2s ease-in",transform:O(e),opacity:y(e)}},r.a.createElement(ie,{card:n.getCard(e),isFlipped:l.getFlip(e),onClick:function(){var t;c&&E((t=e)===p?null:t)}}),r.a.createElement("button",{className:"hoverable",style:{fontSize:"16px",fontWeight:"bold",border:"black 3px solid",borderRadius:"15px 15px 0px 0px",backgroundColor:"rgb(144, 238, 144)",position:"absolute",left:"50%",transform:"translate(-50%, 0)",marginTop:"-7px",zIndex:-1,opacity:e===p?"1":"0",transition:"height 0.2s ease-in",height:e===p?"30px":"0"},onClick:function(){o(e)}},"ACCEPT"))));var a}),!n&&c&&r.a.createElement("button",{className:"hoverable",style:{position:"absolute",height:"auto",alignSelf:"center"},onClick:o,disabled:!c},"PAY ENTRANCE (",d,"$)")))},ge=function(e){var t=e.initSize,n=e.tableDeck,a=e.flop,l=e.tableHands,c=function(e,t){return!(!l||l.length<=e)&&(t?null!==l[e].up:null!==l[e].down)};return r.a.createElement("div",{className:be.a.divflex+" "+be.a.table+" forth-color"},new Array(t).fill(0).map(function(e,t){return r.a.createElement("div",{key:t},(i=t,(n&&a?n.getCard(i):null)&&r.a.createElement(ie,{mini:!0,card:n.getCard(t),isFlipped:a.getFlip(t)})),c(t,!0)&&r.a.createElement(ie,{minimini:!0,card:l[t].up,isFlipped:!1}),c(t,!1)&&r.a.createElement(ie,{minimini:!0,card:l[t].down,isFlipped:!1}));var i}))},pe=function(){function e(t,n){Object(o.a)(this,e),this.flips=n?n.getFlips():new Array(t).fill(!0)}return Object(u.a)(e,[{key:"getFlips",value:function(){return this.flips}},{key:"getFlip",value:function(e){return this.flips[e]}},{key:"isShowAll",value:function(){var e=!0;return this.flips.forEach(function(t){t&&(e=!1)}),e}},{key:"show",value:function(e){return this.flips[e]=!1,this}},{key:"showOnly",value:function(e){for(var t=0;t<this.flips.length;t++)this.flips[t]=t!==e;return this}},{key:"showAll",value:function(){return this.flips=new Array(this.flips.length).fill(!1),this}},{key:"showNext",value:function(){for(var e=0;!1===this.flips[e]&&this.flips.length!==e;)e++;return this.flips.length!==e&&(this.flips[e]=!1),this}}],[{key:"New",value:function(t){return new e(t,null)}},{key:"Copy",value:function(t){return new e(null,t)}}]),e}(),Ee=function(e){var t=e.sets,n=e.onEnd,l=Object(a.useState)(0),c=Object(i.a)(l,2),o=c[0],u=c[1],s=Object(a.useState)(!1),d=Object(i.a)(s,2),m=d[0],f=d[1],b=Object(a.useRef)(!1);Object(a.useEffect)(function(){if(t){if(t.reset){m&&f(!1),b.current=!!t.dotted&&t.dotted;var e=h(t.time);return function(){return clearInterval(e)}}if(t.time<o){f(!0);var n=h(t.time);return function(){return clearInterval(n)}}}},[t]);var h=function(e){var t=e;u(t);var a=setInterval(function(){u(--t),0===t&&(clearInterval(a),n())},1e3);return a};return r.a.createElement("div",{className:"darker-color forth-color "+re.a.timer+" "+(m?re.a.redTimer:re.a.defaultTimer)},b.current?".".repeat(o):o?o+"s":"TIMER"," ")},ye=n(13),Oe=n.n(ye),je=10,xe=420,ke=100,Ce=100,Ne=20,Se=5,we=4,De=r.a.createContext(),Ie=function(e){var t=e.children,n=Object(a.useState)(Ae()),l=Object(i.a)(n,2),c=l[0],o=l[1],u=Object(a.useState)(Te()),s=Object(i.a)(u,2),d=s[0],m=s[1];return Object(a.useEffect)(function(){var e=d,t=c,n=setInterval(function(){var n=Me(Se);m(d>e?d-n:d+n);var a=c.red,r=c.black;n=Me(we),a+r>t.red+t.black?o(a>r?{red:a-n,black:r}:{red:a,black:r-n}):o({red:a,black:r+n})},1e3*je);return function(){return clearInterval(n)}},[]),r.a.createElement(De.Provider,{value:{gamePlayers:c,totalPlayers:d}},t)},Ae=function(){var e=Ce+Pe(Ne);return{red:Math.floor(e/2),black:Math.floor(e/2)}},Te=function(){return xe+Pe(ke)},Me=function(e){return Math.floor(Math.random()*e)},Pe=function(e){return-e+Me(2*e)},_e=function(e){var t=e.size,n=e.code,a=void 0===n?null:n,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{marginLeft:0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)?"0px":5,height:"50px",transform:"translateY("+-e*c()+"px)"}},c=function(){return Math.floor(84/(t-1))},i=function(){return 40*t+5*(t-1)};return r.a.createElement("div",{className:"wave-box forth-color",style:{padding:"5px",height:"134px",width:i()+"px"}},a&&function(){var e=new Array(t);e[0]=0,a.forEach(function(t,n){e[n+1]=e[n]+(null===t?0:t?1:-1)});var n=Math.max.apply(Math,Object(L.a)(e)),r=Math.min.apply(Math,Object(L.a)(e)),l=n+Math.abs(r),c=Math.floor(l/2);return e=n>Math.abs(r)?e.map(function(e){return e-c}):e.map(function(e){return e+c})}().map(function(e,t){return r.a.createElement(oe,{key:t,style:l(e,t),index:t+1})}))},Re=function(){var e=Object(a.useContext)(p),t=e.isDialog,n=e.setTextDialog,l=Object(a.useContext)(f),c=l.balance,o=l.chargeBalance,u=l.chargeXp,s=Object(a.useContext)(k),d=s.isCodeUsed,m=s.saveCode,b=Object(a.useContext)(De).gamePlayers,h=Object(U.o)(),v=h.id,g=h.myColor,E=G.getGame(v),y=Object(a.useState)(null),O=Object(i.a)(y,2),j=O[0],x=O[1],C=Object(a.useState)(null),N=Object(i.a)(C,2),S=N[0],D=N[1],A=Object(a.useState)(null),T=Object(i.a)(A,2),M=T[0],P=T[1],z=Object(a.useState)(null),F=Object(i.a)(z,2),J=F[0],Y=F[1],H=Object(a.useState)(null),V=Object(i.a)(H,2),W=V[0],Z=V[1],q=Object(a.useState)(null),X=Object(i.a)(q,2),Q=X[0],ee=X[1],te=Object(a.useState)(!1),ne=Object(i.a)(te,2),ae=ne[0],re=ne[1],ce=Object(a.useState)(!1),ie=Object(i.a)(ce,2),oe=ie[0],ue=ie[1],se=Object(a.useState)(!1),de=Object(i.a)(se,2),me=de[0],fe=de[1],be=Object(a.useState)(null),ye=Object(i.a)(be,2),je=ye[0],xe=ye[1],ke=Object(a.useState)(null),Ce=Object(i.a)(ke,2),Ne=Ce[0],Se=Ce[1],we=Object(a.useRef)(null),Ie=Object(a.useState)(null),Ae=Object(i.a)(Ie,2),Te=Ae[0],Me=Ae[1],Pe=Object(a.useRef)("null"),Re=Object(a.useState)(!1),Be=Object(i.a)(Re,2),Ge=Be[0],Je=Be[1],Le=Object(a.useState)([]),Ue=Object(i.a)(Le,2),Ye=Ue[0],He=Ue[1],Ve=Object(a.useState)([]),We=Object(i.a)(Ve,2),Ze=We[0],Ke=We[1];Object(a.useEffect)(function(){null!==je&&null!==Ne?tt():null===je&&null===Ne||Me({time:E.roundTime/2}),null!==je&&ae&&re(!1),null!==Ne&&oe&&ue(!1)},[je,Ne]),Object(a.useEffect)(function(){var e="red"===g?b.black-b.red:b.red-b.black,t=setTimeout(function(){ue(!0),re(!0),fe(!0);var e=setTimeout(function(){$e()},1e3*(3+Fe(3)));return function(){return clearTimeout(e)}},1e3*ze(e));return function(){return clearTimeout(t)}},[]);var $e=function(){ue(!1),D(K.New(E.handDeckSize,"red"===g?"black":"red")),Z(pe.New(E.handDeckSize))};Object(a.useEffect)(function(){j&&S&&!M&&(P($.New(E.tableDeckSize,j,S)),ee(pe.New(E.tableDeckSize)),o(-E.enterPrice),lt("startRound",5,!0))},[j,S]);var qe=function(e){j?xe(e):c<E.enterPrice?n("Not enough money to play.",""):(re(!1),x(K.New(E.handDeckSize,g)),Y(pe.New(E.handDeckSize)))},Xe=function(){J.isShowAll()||Y(pe.Copy(J).showAll()),W.isShowAll()||E.type!==R||Z(pe.Copy(W).showAll()),ee(pe.Copy(Q).showNext()),re(!0),ue(!0),at(),lt("startRoundTimer",E.roundTime,!1)},Qe=function(){et()},et=function(){je||xe(j.getRandomIndex()),Ne||Se(S.getRandomIndex())},tt=function(){clearInterval(we.current),Je(!0),E.type===_&&Z(pe.Copy(W).show(Ne)),lt("endRoundTimer",5,!0)},nt=function(){var e=Ye.length+1,t=j.getCard(je),n=S.getCard(Ne),a=M.getCard(e-1),r=Object(L.a)(Ye);r.push(t.isCloser(n,a)),He(r),(r=Object(L.a)(Ze)).push({up:n,down:t}),Ke(r),x(K.Copy(j).takeOffCardByIndex(je)),D(K.Copy(S).takeOffCardByIndex(Ne)),xe(null),Se(null),Je(!1),e!==E.tableDeckSize&&Xe()};Object(a.useEffect)(function(){if(ut()){var e=it(),t=ct(),a=t-E.enterPrice;a>0?(n("You won","GGs! (balance: "+a+"$)"),Ye.length===e&&(d(2)||m(2,"Your first all-green win! Grab a reward."))):0===a?n("You drew","Even gameplay. (balance: "+a+"$)"):n("You lose","Better luck next time... (balance: "+a+"$)"),u(10*e),o(t),rt()}},[Ye]);var at=function(){we.current=setInterval(function(){var e=E.roundTime/3;ut()?e=2:je&&(e=3),1===Fe(e)&&(Se(S.getRandomIndex()),clearInterval(we.current))},2e3)},rt=function(){setTimeout(function(){fe(!1)},1e3*(2+Fe(3)))};function lt(e,t,n){Me({time:t,reset:!0,dotted:n}),Pe.current=e}var ct=function(){var e=0;return E.bids.forEach(function(t,n){Ye[n]&&(e+=t)}),e},it=function(){var e=0;return Ye.forEach(function(t){!0===t&&e++}),e};var ot=function(e){return{index:e?je:Ne,isActive:Ge,cardPreview:!!e||E.type!==R}},ut=function(){return Ye.length===E.tableDeckSize};return r.a.createElement("div",{className:"blurable "+B()({blured:t})+" layout"},r.a.createElement("div",{className:Oe.a.timer},r.a.createElement(Ee,{sets:Te,onEnd:function(){"startRoundTimer"===Pe.current?Qe():"endRoundTimer"===Pe.current?nt():"startRound"===Pe.current&&Xe()}})),r.a.createElement("div",{className:Oe.a.handtable+" fade"},me&&r.a.createElement(w,{bold:!0}),!me&&!ut()&&r.a.createElement("div",null,"waiting for opponent..."),!me&&ut()&&r.a.createElement("div",null,"[opponent left]"),r.a.createElement(he,{initSize:E.handDeckSize,handDeck:S,flop:W,isAcceptable:oe,show:ot(!1)}),r.a.createElement(ge,{initSize:E.tableDeckSize,tableDeck:M,flop:Q,tableHands:Ze}),r.a.createElement(ve,{initSize:E.handDeckSize,handDeck:j,flop:J,isAcceptable:ae,onAccept:function(e){return qe(e)},show:ot(!0),enterPrice:E.enterPrice}),r.a.createElement(w,{bold:!0,myname:!0})),r.a.createElement("div",{className:Oe.a.wave},r.a.createElement(_e,{size:E.tableDeckSize,code:M?M.getWaveCode():null})),r.a.createElement("div",{className:Oe.a.sidebar},r.a.createElement("h2",null,E.name),r.a.createElement(le,{bids:E.bids,gameStatus:Ye}),r.a.createElement("div",{className:Oe.a.info},"INFO",r.a.createElement("div",null,"Nearest card wins (color matters)"),r.a.createElement("div",null,"Drag card to switch its position"),r.a.createElement("div",null,"TODO")),ut()&&r.a.createElement("div",{className:Oe.a.home+" hoverable"},r.a.createElement(I.b,{to:{pathname:"/"}},"LEAVE"))))},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e>0?1+Fe(3):2*-e+2+Fe(3)},Fe=function(e){return Math.floor(Math.random()*e)},Be=r.a.createContext(),Ge=function(e){var t=e.children,n=Object(a.useState)(!0),l=Object(i.a)(n,2),c=l[0],o=l[1];return r.a.createElement(Be.Provider,{value:{isDarkMode:c,switchDarkMode:function(){return o(!c)}}},t)},Je=(n(33),function(e){var t=e.onCharging,n=Object(a.useContext)(f),l=n.balance,c=n.xp,o=Object(a.useContext)(p),u=o.isDialog,s=o.setTextDialog,d=Object(a.useContext)(k),m=d.isCodeDialogOpen,b=d.openCodeDialog,h=Object(a.useContext)(Be).switchDarkMode,v=Object(a.useState)(0),g=Object(i.a)(v,2),E=g[0],y=g[1],O=Object(a.useState)(0),j=Object(i.a)(O,2),x=j[0],C=j[1],N=Object(a.useState)(!1),S=Object(i.a)(N,2),w=S[0],D=S[1],I=Object(a.useState)(!1),A=Object(i.a)(I,2),T=A[0],M=A[1];Object(a.useEffect)(function(){if(l){var e=l-E;if(0===e)return;D(!0),t(e>0);var n=E,a=setInterval(function(){0===e&&(D(!1),t(null),clearInterval(a));var r=Le(e);y(n+=r),e-=r},30);return function(){D(!1),t(null),clearInterval(a)}}},[l]),Object(a.useEffect)(function(){if(c){var e=c-x;if(0===e)return;M(!0);var t=x,n=setInterval(function(){0===e&&(M(!1),clearInterval(n));var a=Le(e);C(t+=a),e-=a},30);return function(){M(!1),clearInterval(n)}}},[c]);return r.a.createElement("div",{className:"acc"},r.a.createElement("div",{className:"acc-box darker-color-box"},r.a.createElement("div",{style:{scale:T?"1.2":"1"}},x,"GGs"),r.a.createElement("button",{className:u?"":"scale-hoverable",onClick:function(){s("GGs points","Gained Greens, aka XP, calculated by the number of games won * 10.")}},"i ")),r.a.createElement("div",{className:"acc-box darker-color-box"},r.a.createElement("div",{style:{scale:w?"1.2":"1"}},E,"$ "),r.a.createElement("button",{className:m?"":"scale-hoverable",onClick:b},"+")),r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",onClick:function(){return h()},defaultChecked:!0}),r.a.createElement("span",{className:"slider round"}," ")))}),Le=function(e){return e>0?Math.ceil(e/30):Math.floor(e/30)},Ue=n(16),Ye=n.n(Ue),He=function(){var e=Object(U.o)().id,t=G.getGame(e),n=Object(a.useContext)(De).gamePlayers,l=Object(a.useContext)(p).isDialog;return r.a.createElement("div",{className:"blurable "+(l?"blured":"")+" layout"},r.a.createElement("div",{className:Ye.a.content},r.a.createElement("div",{className:"fade"},r.a.createElement("div",null,"Select color:"),r.a.createElement("div",{className:Ye.a.flex},r.a.createElement("div",{className:Ye.a.foot},r.a.createElement("div",null,n.red),r.a.createElement("span",{role:"img","aria-label":"^"},"\ud83d\udc64"),r.a.createElement("div",null,n.black)),r.a.createElement("div",{className:Ye.a.head},r.a.createElement(I.b,{to:{pathname:"/game/"+t.id+"/red"}},r.a.createElement("span",{role:"img","aria-label":"^",style:{left:"10px",top:"0px"}},"\u2665\ufe0f"),"Red",r.a.createElement("span",{role:"img","aria-label":"^",style:{right:"10px",bottom:"0px"}},"\u2666\ufe0f")),r.a.createElement(I.b,{to:{pathname:"/game/"+t.id+"/black"}},r.a.createElement("span",{role:"img","aria-label":"^",style:{left:"10px",top:"0px"}},"\u2660\ufe0f"),"Black",r.a.createElement("span",{role:"img","aria-label":"^",style:{right:"10px",bottom:"0px"}},"\u2663\ufe0f")))))),r.a.createElement("div",null,r.a.createElement("h2",null,t.name),r.a.createElement("div",null,r.a.createElement("div",null,"Enter price: ",t.enterPrice,"$"),r.a.createElement("div",null,"Bids range: ",t.bids[0],"$-",t.bids[t.bids.length-1],"$"),r.a.createElement("div",null,"Game type: ",t.type),r.a.createElement("div",null,"Round time: ",t.roundTime,"s"))))},Ve=function(){var e=Object(a.useContext)(De).totalPlayers;return r.a.createElement("div",{className:"online-id"},"ONLINE: ",e)};var We=function(){var e=Object(a.useContext)(Be).isDarkMode,t=Object(a.useState)(null),n=Object(i.a)(t,2),l=n[0],c=n[1];return r.a.createElement("div",{className:"App "+(e?"secondary-color":"third-color")},r.a.createElement(E,null,r.a.createElement(O,null,r.a.createElement(h,null,r.a.createElement(C,null,r.a.createElement("div",{className:"navbar "+(null===l?"primary-color":l?"goldish-bg":"redish-bg")},r.a.createElement("div",{className:"darker-color"},r.a.createElement("b",null,"LATER ",r.a.createElement("span",{role:"img","aria-label":"dot"},"\ud83c\udfb4"))," the gambling game"),r.a.createElement(Je,{onCharging:function(e){c(e)}})),r.a.createElement("div",{className:"content"},r.a.createElement(Ie,null,r.a.createElement(I.a,null,r.a.createElement(U.c,null,r.a.createElement(U.a,{exact:!0,path:"/",element:r.a.createElement(J,null)}),r.a.createElement(U.a,{exact:!0,path:"/waiting-room/:id",element:r.a.createElement(He,null)}),r.a.createElement(U.a,{exact:!0,path:"/game/:id/:myColor",element:r.a.createElement(Re,null)}))),r.a.createElement(Ve,null))))))))};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ge,null,r.a.createElement(We,null))))}],[[22,1,2]]]);
//# sourceMappingURL=main.3382ef4e.chunk.js.map