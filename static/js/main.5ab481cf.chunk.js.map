{"version":3,"sources":["p-play-room/components/CHand.css","p-play-room/components/local.css","p-play-room/local.css","p-home/Home.css","p-waiting-room/local.css","models/game.js","models/consts.js","context/AccountContext.js","components/InputDialog.js","components/TextDialog.js","context/DialogContext.js","context/NotificationContext.js","context/CodeContext.js","models/random.js","components/MainName.js","p-home/components/GameBox.js","p-home/Home.js","models/cards.js","models/decks.js","p-play-room/components/status.js","p-play-room/components/gamestatus.js","p-play-room/components/CCard.js","p-play-room/components/CHand.js","models/flops.js","p-play-room/components/timer.js","components/Name.js","p-play-room/components/Wave.js","p-play-room/CGame.js","context/DarkModeContext.js","components/Account.js","p-waiting-room/components/RoomList.js","p-waiting-room/WaitingRoom.js","context/OnlineContext.js","components/Online.js","App.js","index.js"],"names":["module","exports","divflex","table","hand","timer","redTimer","gameStatusBody","handtable","wave","sidebar","quit","flex","content","Game","id","name","firstPoint","lastPoint","type","firstRoundTime","arguments","length","undefined","minusRoundTime","Object","classCallCheck","this","handDeckSize","tableDeckSize","points","Array","fill","roundsTime","map","a","i","createClass","key","value","countAllPoints","round","Math","floor","getMaxRounds","GameType","game_this","reduce","b","GameSet","games","getGame","getMainGame","getOtherGames","filter","game","codes","0","1","2","3","4","5","6","codesValue","imnew","name5","greenwin","herewegoagain","likeaboss","fam50","friends","customNames","AccountContext","React","createContext","getLocalNumber","str","localStorage","getItem","setItem","Number","AccountProvider","_ref","children","_useState","useState","_useState2","slicedToArray","balance","setBalance","_useState3","_useState4","xp","setXp","getBalance","chargeBalance","chargeXp","react_default","createElement","Provider","InputDialog","text","onClose","inputRef","useRef","style","zIndex","className","onClick","role","aria-label","margin","maxLength","ref","current","TextDialog","title","bold","marginTop","fontSize","DialogContext","DialogProvider","textDialog","setTextDialog","inputDialog","setInputDialog","isDialog","components_InputDialog","components_TextDialog","NotificationContext","NotificationProvider","useContext","notification","setNotification","isNotification","showNotification","CodeContext","CodeProvider","_useContext2","isCodeDialogOpen","setIsCodeDialogOpen","verifyCode","code","codeId","codeToCodeId","isCodeUsed","isCodeToUse","addUsedCode","useEffect","addCodeToUse","arr","JSON","parse","push","stringify","codeid","includes","keys","find","openCodeDialog","saveCode","description","console","log","tryDeleteCodeUsed","Random","range","random","min","max","getRandom","MainName","_React$Component","props","_this","possibleConstructorReturn","getPrototypeOf","call","handleOnClick","context","setMyName","codeContext","setState","state","inherits","getMyName","Component","contextType","withCodeContext","Consumer","assign","getRandomName","GameBox","main","disabled","dist","textDecoration","position","to","opacity","getRoundTime","Home","_useContext","timeout","setTimeout","clearTimeout","classNames","blured","textAlign","components_MainName","p_home_components_GameBox","Card","color","figure","card","opCard","tableCard","myDelta","abs","opDelta","getColorOfColor","figureToString","colorToString","Color","hearts","clubs","diamonds","spades","Figure","7","8","9","10","J","Q","K","A","fig","col","HandDeck","size","handDeck","cards","getCards","getRandomHandCards","equal","index","len","getCardsLength","rand","getCardsSize","handdeck","TableDeck","handDeck1","handDeck2","tableDeck","toArray","getRandomTableCards","res","prevFigure","forEach","_loop","temp","getRandomColor","getRandomFigure","_loop2","isCard","Status","status","GameStatus","gameStatus","getStatus","display","flexDirection","point","components_status","CCard","isFlipped","transform","src","getPath","alt","toString","MiniCard","_ref2","isRotate","isChildrenRotate","height","globalStyle","objectWithoutProperties","fontWeight","prepath","process","join","colorToRowNumber","figureToColumnNumber","CHand","initSize","flop","isAcceptable","_ref$show","show","isActive","cardPreview","getCardOpacity","getTranform","toConsumableArray","orders","setOrders","dragItem","dragOverItem","trySwitchOrder","boxid1","boxid2","cardIndex","onDragStart","onDragEnter","onDragEnd","getCard","transition","CCard_CCard","getFlip","CMyHand","_ref3","onAccept","_ref3$show","enterPrice","toggledCardIndex","setToggledCardIndex","_useState5","_useState6","_ref4","border","borderRadius","backgroundColor","left","alignSelf","right","sorted","sort","scard","findIndex","cnt","CTable","_ref5","tableHands","isTableHand","isup","up","down","_","mini","minimini","Flop","flips","getFlips","flip","Timer","sets","onEnd","time","setTime","isRed","setIsRed","isDotted","reset","dotted","interval","startTimer","clearInterval","curr","setInterval","defaultTimer","repeat","Name","apply","myname","getName","Wave","_ref$code","getCardStyle","delta","marginLeft","cardHeight","getDeltaSpace","getBoxWidth","padding","boxPadding","boxHeight","width","c","distance","shift","getDeltaArray","CCard_MiniCard","getEmojiSpan","CGame","_useContext3","_useParams","useParams","myColor","opName","myHandDeck","setMyHandDeck","opHandDeck","setOpHandDeck","setTableDeck","_useState7","_useState8","myFlop","setMyFlop","_useState9","_useState10","opFlop","setOpFlop","_useState11","_useState12","tableFlop","setTableFlop","_useState13","_useState14","setIsAcceptable","_useState15","_useState16","isOpAcceptable","setIsOpAcceptable","_useState17","_useState18","isOpQuit","setIsOpQuit","_useState19","_useState20","myAcceptedIndex","setMyAcceptedIndex","_useState21","_useState22","opAcceptedIndex","setOpAcceptedIndex","opSimulation","_useState23","_useState24","timerSets","setTimerSets","handleTimerEndString","_useState25","_useState26","isShow","setIsShow","_useState27","_useState28","setGameStatus","_useState29","_useState30","setTableHands","endRound","timeout2","OpReady","New","restartTimer","handleOnAccept","Copy","startRoundTimer","getRandomIndex","readyDeckTimer","endRoundTimer","myCard","takeOffCardByIndex","isCloser","isShowAll","showAll","showNext","simulateOp","greens","countGreens","myPoints","countPoints","isWin","isDraw","leaveOp","isEndRound","handler","getShow","my","Name_Name","CHand_CHand","CHand_CTable","CHand_CMyHand","components_Wave","getWaveCode","gamestatus","pathname","DarkModeContext","DarkModeProvider","isDarkMode","setIsDarkMode","switchDarkMode","Account","onCharging","_useContext4","currBalance","setCurrBalance","currXp","setCurrXp","isBalanceCharging","setIsBalanceCharging","isXpCharging","setIsXpCharging","isNotificationIcon","setIsNotificationIcon","delting","scale","defaultChecked","ceil","RoomList","gameId","maxRangePrice","toRangePriceFloor","myRangePrice","setMyRangePrice","setMyColor","initList","list","setList","changeList","getRandomRangeIn","whiteSpace","getRangePriceIndex","onChange","event","getRangePrice","target","item","price","toUpperCase","initLength","getInitLength","maxIndex","ListItem","getRandomColorOfColor","getRandomIn","toDelete","getDeleteLength","splice","toAdd","getAddLength","base","pow","log10","maxPrice","s","sqrt","WaitingRoom","components_RoomList","about","consts","OnlineContext","OnlineProvider","getInitTotalPlayers","totalPlayers","setTotalPlayers","initTotalPlayers","getRandomDelta","Online","App","navBarGold","setNavBarGold","context_DialogContext","context_NotificationContext","context_AccountContext","context_CodeContext","src_components_Account","val","context_OnlineContext","react_router_dist","exact","path","element","src_p_home_Home","p_waiting_room_WaitingRoom","p_play_room_CGame","components_Online","ReactDOM","createRoot","document","getElementById","render","StrictMode","context_DarkModeContext","src_App"],"mappings":"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","file":"static/js/main.5ab481cf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"divflex\":\"_14GuKWQsysnOigZ38edRyR\",\"table\":\"_3z3b2CYbvBzWXJe28NNKjL\",\"hand\":\"_1DMTE6skffVup0HjbbZkuI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timer\":\"_1M0-VINM6LPFf_yKOukoPY\",\"redTimer\":\"_3swyZaXMINgZdQBpZhgwJO\",\"gameStatusBody\":\"d7VmnFBEOJ4MOj_lq1P4-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"handtable\":\"_3JbV29M6s4yAaLUmK6pJ48\",\"timer\":\"_2phrPiC4ETAZ3H2y5SU399\",\"wave\":\"_22E46PPA_LtA-NjyubSCul\",\"sidebar\":\"_26dsF5MFHakkuIPLKGYEx_\",\"quit\":\"_32JQs37nP4EGVlyL6Pm8_g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flex\":\"PduyA2x5bVVFm8khD3AjU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"I7EojV80RM7Y6VvhWoCRI\"};","export class Game {\r\n  constructor(id,name,firstPoint,lastPoint,type,firstRoundTime=50,minusRoundTime=10) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.handDeckSize = 5;//1-10, hand>=table\r\n    this.tableDeckSize = 5;//1-10, hand>=table\r\n    this.points = new Array(this.tableDeckSize).fill(firstPoint);\r\n    this.points[this.tableDeckSize-1]=lastPoint;\r\n    this.type = type;\r\n\r\n    let roundsTime = new Array(this.tableDeckSize).fill(firstRoundTime);\r\n    roundsTime = roundsTime.map((a,i)=>a-minusRoundTime*i)\r\n    this.roundsTime= roundsTime;//in seconds, must be odd number\r\n\r\n  }\r\n  isWin(points){return points>countAllPoints(points)/2;}\r\n  isDraw(points){ return points===countAllPoints(points)/2;}\r\n\r\n  getMaxRounds(){return this.tableDeckSize}\r\n  getRoundTime(round=null){\r\n    if(round===null) return this.roundsTime[Math.floor(this.roundsTime.length/2)]\r\n    if(round<0 || round>=this.getMaxRounds()) return this.roundsTime[0]\r\n    return this.roundsTime[round];\r\n  }\r\n\r\n  about(){\r\n    switch(this.id){\r\n      case 0: return `Main game mode - click and play!\r\n      If you begginer try to bet money carefully.\r\n      The opponent's cards are visible, so try to predict his move.\r\n      During round, you have enough time to think.`;\r\n      case 1: return`1.4 game mode.\r\n      The last round has so much points, so try to save the best card, \"ace up the sleeve\"!\r\n      The opponent's cards are visible. Opponent has to be predictable, is't he?`;\r\n      case 2: return`Hidden game mode.\r\n      The opponent cards are hidden, so you have to look only at your cards.\r\n      During round, you have enough time to think.`;\r\n      case 3:return `Fast game mode.\r\n      Hurry up! During round, you have limited time to think. Do you happen to look at the opponent's cards?`;\r\n      default:return;\r\n    }\r\n  }\r\n}\r\n\r\nexport const GameType = {\r\n  HiddenCards:\"HIDDEN\",\r\n  OpenCards:\"OPEN\",\r\n};\r\n\r\nconst countAllPoints = (points=[])=>{return this.points.reduce((a, b) => a + b, 0)}","import { Game, GameType } from \"./game\";\r\n\r\nexport const GameSet = {\r\n    games:[\r\n      new Game(0,\"PLAY\",1,3,GameType.OpenCards),\r\n      new Game(1,\"1.4\",1,4,GameType.OpenCards),\r\n      new Game(2,\"HIDDEN\",1,3,GameType.HiddenCards,),\r\n      new Game(3,\"FAST\",1,3,GameType.OpenCards,10,0),\r\n    ],\r\n    getGame:(id)=>GameSet.games[id],\r\n    getMainGame:()=>GameSet.getGame(0),\r\n    getOtherGames:()=>GameSet.games.filter(game=>game.id!==0),\r\n}\r\n\r\nexport const codes={\r\n    0:\"imnew\",\r\n    1:\"name5\",\r\n    2:\"greenwin\",\r\n    3:\"herewegoagain\",\r\n    4:\"likeaboss\",\r\n    5:\"fam50\",\r\n    6:\"friends\",\r\n    //7:\"777\" //if player win 7 times\r\n}\r\n\r\nexport const codesValue={\r\n    \"imnew\":10,\r\n    \"name5\":5,\r\n    \"greenwin\":10,\r\n    \"herewegoagain\":10,\r\n    \"likeaboss\":7,\r\n    \"fam50\":50,\r\n    \"friends\":50,\r\n}\r\n\r\nexport const customNames=[\r\n    \"Lara Croft\",\r\n    \"ElChapo\",\r\n    \"Airport Hobo\",\r\n    \"Minecraft Steve\",\r\n    \"HarrietThugman\",\r\n    \"Pinball Tables\",\r\n    \"Flack\",\r\n    \"Red Rhino\",\r\n    \"not_james_bond\",\r\n    \"bread_pitt\",\r\n    \"Norma Scock\",\r\n    \"well_endowed\",\r\n    \"averagestudent\",\r\n    \"avo_cuddle\",\r\n    \"Joyful\",\r\n    \"chuck_norris\",\r\n    \"abductedbyaliens\",\r\n    \"Adobo_Ahai\",\r\n    \"Not-Insync\",\r\n    \"heisenberg_blue\",\r\n    \"PaniniHead\",\r\n    \"no_one_cares\",\r\n    \"pixie_dust\",\r\n    \"manic_pi\",\r\n    \"look_mom\",\r\n    \"botaccount\",\r\n    \"QuarQueen\",\r\n    \"Reese_With\",\r\n    \"ReeseWithafork\",\r\n    \"ImageNotUploaded\",\r\n    \"No_Feet_Pics\",\r\n    \"wheretomatoes\",\r\n    \"TequilaBird\",\r\n    \"the_other\",\r\n    \"not you\",\r\n    \"PaintMeLike\",\r\n    \"Hot_Name_Here\",\r\n    \"BasicBeach\",\r\n    \"thot_patrol\",\r\n    \"my_anaconda_does\",\r\n    \"kim_chi\",\r\n    \"username_copied\",\r\n    \"Ariana_Grande\",\r\n    \"defasff\"]","import React, { useState } from \"react\";\r\n\r\nexport const AccountContext = React.createContext();\r\n\r\nconst AccountProvider = ({children}) => {\r\n\r\n    const [balance,setBalance] = useState(getLocalNumber(\"balance\"));\r\n    const [xp,setXp] = useState(getLocalNumber(\"xp\"));\r\n    \r\n    const chargeBalance = (value)=>{\r\n        localStorage.setItem(\"balance\",balance+value);\r\n        setBalance(balance+value);\r\n    }\r\n\r\n    const chargeXp = (value)=>{\r\n        localStorage.setItem(\"xp\",xp+value);\r\n        setXp(xp+value);\r\n    }\r\n\r\n    const value = {\r\n        balance:balance,\r\n        getBalance:()=>{return balance},\r\n        xp:xp,\r\n        chargeBalance:(value)=>chargeBalance(value),\r\n        chargeXp:(value)=>chargeXp(value),\r\n    }\r\n\r\n    return ( \r\n    <AccountContext.Provider value={value}>\r\n        {children}\r\n    </AccountContext.Provider> );\r\n}\r\n\r\nconst getLocalNumber = (str)=>{\r\n    if(!localStorage.getItem(str)) localStorage.setItem(str,0);\r\n    return Number(localStorage.getItem(str));\r\n}\r\n \r\nexport default AccountProvider;","import React from 'react';\r\nimport {useRef} from 'react';\r\nimport \"./Dialog.css\"\r\n\r\nconst InputDialog = ({text,onClose}) => {\r\n\r\n  const inputRef = useRef(\"\");\r\n\r\n  const onSubmit = () =>{\r\n    onClose(inputRef.current.value);\r\n  }\r\n\r\n  return (\r\n    <div >\r\n        \r\n        <div style={{\"zIndex\":100}} className={\"centered dialog-box fade darker-color\"}>\r\n            <button className=\"close-button\" onClick={()=>onClose()}>\r\n              <span role=\"img\" aria-label=\"close\">❌</span>\r\n            </button>\r\n            <div>{text}</div>\r\n            <div style={{\"margin\":\"20px\"}}>\r\n              <input type=\"text\" maxLength=\"15\" ref={inputRef}/>\r\n              <button onClick={onSubmit}>OK!</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default InputDialog;","import React  from 'react';\r\nimport \"./Dialog.css\"\r\n\r\nconst TextDialog = ({title,text,bold,onClose}) => {\r\n\r\n  return (\r\n    <div className=\"fade\">\r\n        <div style={{\"zIndex\":99}} className={\"centered dialog-box darker-color\"}>\r\n            <button className=\"close-button\" onClick={onClose}>\r\n              <span role=\"img\" aria-label=\"close\">❌</span>\r\n            </button>\r\n            <div>{title}</div>\r\n            {text && <div style={{\"marginTop\":\"10px\",fontSize:\"24px\"}}>{text} <b style={{fontSize:\"24px\"}}>{bold}</b></div>}\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default TextDialog;","import React, {  useState } from \"react\";\r\nimport InputDialog from \"../components/InputDialog\";\r\nimport TextDialog from \"../components/TextDialog\";\r\n\r\nexport const DialogContext = React.createContext();\r\n\r\nconst DialogProvider = ({children}) => {\r\n\r\n    const [textDialog,setTextDialog] = useState(null);//title text onClose\r\n    const [inputDialog,setInputDialog] = useState(null);//text onClose\r\n\r\n    const handleSetInputDialog=(text,onClose)=>{\r\n        setInputDialog({text:text,onClose:onClose})\r\n    }\r\n\r\n    const handleSetTextDialog=(title,text=null,bold=null)=>{\r\n        setTextDialog({title:title,text:text,bold:bold})\r\n    }\r\n\r\n    const value = {\r\n        textDialog:textDialog,\r\n        setTextDialog:handleSetTextDialog,\r\n        inputDialog:inputDialog,\r\n        setInputDialog:handleSetInputDialog,\r\n        isDialog:inputDialog!==null || textDialog!==null\r\n    }\r\n\r\n    return ( \r\n    <DialogContext.Provider value={value}>\r\n        {children}\r\n        {inputDialog && <InputDialog text={inputDialog.text} onClose={(value) =>{inputDialog.onClose(value);setInputDialog(null);}}/>}\r\n        {textDialog && !inputDialog  && <TextDialog title={textDialog.title} text={textDialog.text} bold={textDialog.bold} onClose={() =>{setTextDialog(null)}}/>}\r\n    </DialogContext.Provider> );\r\n}\r\n \r\nexport default DialogProvider;","import React, { useState } from 'react'\r\nimport { useContext } from 'react';\r\nimport { DialogContext } from './DialogContext';\r\n\r\nexport const NotificationContext = React.createContext();\r\n\r\n//notification center, gaining notifications (notification state)\r\nconst NotificationProvider = ({children})=>\r\n{\r\n    const {setTextDialog} = useContext(DialogContext);\r\n\r\n    const [notification,setNotification] = useState(null);\r\n\r\n    const handleSetNotification = (title,text,bold=null)=>{\r\n        setNotification({title:title,text:text,bold:bold});\r\n    }\r\n\r\n    const handleShowNotification = ()=>{\r\n        setTextDialog(notification.title,notification.text,notification.bold)\r\n        setNotification(null)\r\n    }\r\n\r\n    const value ={\r\n        isNotification:notification!==null,\r\n        setNotification:handleSetNotification,\r\n        showNotification:handleShowNotification,\r\n    }\r\n\r\n    return(\r\n        <NotificationContext.Provider value={value}>\r\n            {children}\r\n        </NotificationContext.Provider>\r\n    )\r\n}\r\n\r\nexport default NotificationProvider;","import React, { useContext, useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { codes, codesValue } from \"../models/consts\";\r\nimport { AccountContext } from \"./AccountContext\";\r\nimport { DialogContext } from \"./DialogContext\";\r\nimport { NotificationContext } from \"./NotificationContext\";\r\n\r\nexport const CodeContext = React.createContext();\r\n\r\n//usage: see value array\r\nconst CodeProvider = ({children}) => {\r\n\r\n    const {setNotification} = useContext(NotificationContext);\r\n    const {inputDialog,setInputDialog,setTextDialog} = useContext(DialogContext);\r\n    const {chargeBalance} = useContext(AccountContext);\r\n\r\n    const [isCodeDialogOpen,setIsCodeDialogOpen]=useState(null);\r\n\r\n    const verifyCode= (code)=>{\r\n        if(code)\r\n        {\r\n            if(codesValue[code])\r\n            {\r\n                let codeId = codeToCodeId(code);\r\n                if(isCodeUsed(codeId))\r\n                {\r\n                    setTextDialog(\"You already used this code...\")\r\n                } \r\n                else if(codeId!==\"5\" && codeId!==\"6\" && !isCodeToUse(codeId) )//brute force na cody dla rodziny i przyj\r\n                {\r\n                    setTextDialog(\"Are u a cheater?\") \r\n                }\r\n                else\r\n                {\r\n                    addUsedCode(codeId);\r\n                    chargeBalance(codesValue[code]);\r\n                }\r\n            }\r\n            else setTextDialog(\"Unknown code :(\")\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(isCodeDialogOpen) setInputDialog(\"Type a secret code:\",verifyCode)\r\n    },[isCodeDialogOpen])\r\n\r\n    const handleOpenCode=()=>{\r\n        if(!isCodeDialogOpen) setIsCodeDialogOpen(true);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(!inputDialog) setIsCodeDialogOpen(false);\r\n    },[inputDialog])\r\n\r\n    const handleSaveCode=(codeId,description)=>{\r\n        if(codes[codeId])\r\n        {\r\n            if(!isCodeToUse(codeId)) addCodeToUse(codeId);\r\n            setNotification(description,\"Use code: \",codes[codeId]);\r\n        }else console.log(\"Save code failed\")\r\n    }\r\n\r\n    const addCodeToUse = (codeId)=>{\r\n        let code = codes[codeId];\r\n        let a = localStorage.getItem(\"codesToUse\");\r\n        let arr = JSON.parse(a);\r\n        if(arr){ arr.push(code); }\r\n        a = arr ? JSON.stringify(arr) : JSON.stringify([code]);\r\n        localStorage.setItem(\"codesToUse\",a);\r\n    }\r\n\r\n    const addUsedCode = (codeId)=>{\r\n        let code = codes[codeId];\r\n        let a = localStorage.getItem(\"usedCodes\");\r\n        let arr = JSON.parse(a);\r\n        if(arr){ arr.push(code); }\r\n        a = arr ? JSON.stringify(arr) : JSON.stringify([code]);\r\n        localStorage.setItem(\"usedCodes\",a);\r\n    }\r\n    \r\n    //const removeFromCodeToUse - narazie niepotrzebne\r\n\r\n    const isCodeToUse = (codeid)=>{//is code in codesToUse\r\n        let a = localStorage.getItem(\"codesToUse\");\r\n        if(!a) return false;\r\n        a = JSON.parse(a);\r\n        return a.includes(codes[codeid])\r\n    }\r\n\r\n    const isCodeUsed= (codeid)=>{//is code in usedCodes\r\n        let a = localStorage.getItem(\"usedCodes\");\r\n        if(!a) return false;\r\n        a = JSON.parse(a);\r\n        return a.includes(codes[codeid])\r\n    }\r\n\r\n    const tryDeleteCodeUsed=(codeid)=>{\r\n        if(!isCodeUsed(codeid))return;\r\n        let a = localStorage.getItem(\"usedCodes\");\r\n        a = JSON.parse(a);\r\n        a = a.filter(id => codeid !== id)\r\n        localStorage.setItem(\"usedCodes\",JSON.stringify(a))\r\n    }\r\n\r\n    const codeToCodeId=(code)=>{\r\n        return Object.keys(codes).find(id => codes[id] === code);\r\n    }\r\n\r\n    const value = {\r\n        isCodeDialogOpen:isCodeDialogOpen,\r\n        openCodeDialog:handleOpenCode,\r\n        saveCode:handleSaveCode,\r\n        isCodeUsed:isCodeUsed,\r\n        tryDeleteCodeUsed:tryDeleteCodeUsed,\r\n    }\r\n\r\n    return ( \r\n        <CodeContext.Provider value={value}>\r\n            {children}\r\n        </CodeContext.Provider> );\r\n}\r\n\r\nexport default CodeProvider","import { customNames } from \"./consts\";\r\n\r\nexport class Random{\r\n\r\n    //return number between 0 - (range-1)\r\n    static getRandom(range){\r\n        return Math.floor(Math.random()*range);\r\n    }\r\n\r\n    static getRandomIn(range){\r\n        return Math.floor(Math.random()*(range+1));\r\n    }\r\n\r\n    static getRandomRange(min,max){\r\n        return min+this.getRandom(max);\r\n    }\r\n\r\n    static getRandomRangeIn(min,max){\r\n        return min+this.getRandom(max+1);\r\n    }\r\n\r\n    static getRandomName(includeCustom=true)\r\n    {\r\n        if(includeCustom && this.getRandom(3)!==1) return customNames[this.getRandom(customNames.length)];\r\n        return \"Player\"+this.getRandom(1000);\r\n    }\r\n\r\n    static getRandomColorOfColor()\r\n    {\r\n        return this.getRandom(2)===0?\"black\":\"red\"\r\n    }\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport { CodeContext } from '../context/CodeContext';\r\nimport { DialogContext } from '../context/DialogContext';\r\nimport { Random } from '../models/random';\r\n\r\nclass MainName extends React.Component\r\n{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {name: \"\"};\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n        this.setState({name:getMyName()})\r\n    }\r\n\r\n    handleOnClick = ()=>{\r\n        this.context.setInputDialog(\"Change your name\",(name)=>{if(name && name!==\"\")this.setMyName(name)});\r\n    }\r\n\r\n    setMyName = (name)=> {\r\n        if(!localStorage.getItem(\"name\"))\r\n            this.props.codeContext.saveCode(1,\"Congrats you set your name!\")\r\n            \r\n        localStorage.setItem(\"name\",name);\r\n        this.setState({name:name})\r\n    }\r\n\r\n    render()\r\n    { \r\n        return (\r\n            <ins className='underline hoverable' onClick={this.handleOnClick} >{this.state.name}</ins>\r\n        );\r\n    }\r\n    \r\n\r\n}\r\nMainName.contextType = DialogContext;\r\n\r\nexport const withCodeContext = Component => (\r\n    props => (\r\n      <CodeContext.Consumer>\r\n        {context => <Component codeContext={context} {...props} />}\r\n      </CodeContext.Consumer>\r\n    )\r\n  )\r\n\r\nexport default withCodeContext(MainName);\r\n\r\n//local\r\n\r\nconst getMyName= ()=> {\r\n    let name = localStorage.getItem(\"name\");\r\n    if(!name) \r\n    {\r\n        name = Random.getRandomName(false);\r\n    }\r\n\r\n    return name;\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport \"./GameBox.css\"\r\n\r\nconst GameBox = ({game,main,disabled}) => {\r\n\r\n    return ( \r\n        <div className={\"forth-color \"+(main?\"main-box\":\"box\")}>\r\n            \r\n            <Link className={main?\"main-head-font\":\"head-font\"} style={{\"textDecoration\":\"none\",\"position\":\"relative\"}}  to={disabled?\"#\":\"/waiting-room/\"+game.id}>\r\n               \r\n                <div className={\"third-color \"+(main?\"main-head\":\"head\")} style={{opacity:(disabled?\"0.3\":\"1\")}}>\r\n                    {game.name}\r\n                </div>\r\n                {disabled &&<div className='centered'>\r\n                <span role=\"img\" aria-label='lock'>🔒</span>\r\n                </div>}\r\n            </Link>\r\n            <div className={\"foot noselect \" + (main?\"main-foot-font\":\"foot-font\")}>\r\n                <div>{game.points[0]}.{game.points[game.points.length-1]}</div>\r\n                <div>{game.type}</div>\r\n                <div>{game.getRoundTime()}s</div>\r\n            </div>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default GameBox;","import React, { useContext, useEffect } from 'react';\r\n\r\nimport MainName from '../components/MainName';\r\nimport GameBox from './components/GameBox';\r\n\r\nimport style from \"./Home.css\"\r\nimport { NotificationContext } from '../context/NotificationContext';\r\nimport { DialogContext } from '../context/DialogContext';\r\nimport classNames from 'classnames';\r\nimport { GameSet } from '../models/consts';\r\nimport { CodeContext } from '../context/CodeContext';\r\nimport { AccountContext } from '../context/AccountContext';\r\n\r\n\r\nconst Home = () => {\r\n\r\n    const {isNotification,showNotification} = useContext(NotificationContext);\r\n    const {saveCode,isCodeUsed,tryDeleteCodeUsed} = useContext(CodeContext);\r\n    const {isDialog} = useContext(DialogContext);\r\n    const {balance} = useContext(AccountContext);\r\n\r\n    useEffect(()=>{\r\n        let timeout = setTimeout(() => {\r\n\r\n            if(!isCodeUsed(0)) saveCode(0,\"Hello new player! Ready to start?\");\r\n            else if(balance===0)\r\n            {\r\n                tryDeleteCodeUsed(3) \r\n                saveCode(3,\"You broke, ah... here we go again...\");\r\n            }\r\n        \r\n        }, 10000);\r\n        return ()=>clearTimeout(timeout);\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        if(isNotification){\r\n            let timeout = setTimeout(()=>showNotification(),1000);\r\n            return ()=>clearTimeout(timeout)\r\n        } \r\n    },[isNotification])\r\n\r\n    return (\r\n    <div>\r\n        <div className={\"blurable fade \" +classNames({\"blured\":isDialog})}>\r\n        <h1 style={{'textAlign':'center',marginTop:\"70px\"}} >Hello,<MainName/>!</h1>\r\n        \r\n        <div className={style.flex}>\r\n            <div>\r\n                <GameBox disabled={balance<=0} game={GameSet.getMainGame()} main />\r\n            </div>\r\n            \r\n            <div>\r\n                {GameSet.getOtherGames().map((game,i)=>\r\n                    <GameBox key={i} disabled={balance<15} game={game}/>\r\n                    )}\r\n            </div>\r\n        </div>\r\n        </div>\r\n    </div>\r\n    );\r\n}\r\n \r\nexport default Home;","export class Card {\r\n    constructor(color,figure) { \r\n      this.color = color;\r\n      this.figure = figure;\r\n    }\r\n\r\n    equal(card){\r\n      return this.color===card.color && this.figure === card.figure;\r\n    }\r\n    isHigher(card){\r\n      return this.figure > card.figure;\r\n    }\r\n\r\n    isCloser(opCard,tableCard)\r\n    {\r\n      let myDelta = Math.abs(this.figure-tableCard.figure);\r\n      let opDelta = Math.abs(opCard.figure-tableCard.figure)\r\n      if(myDelta < opDelta) return true;\r\n      if(myDelta > opDelta) return false;\r\n\r\n      return tableCard.getColorOfColor() === this.getColorOfColor();\r\n    }\r\n    \r\n    getColorOfColor() {\r\n      if(this.color===\"hearts\" || this.color===\"diamonds\") return \"red\"\r\n      return \"black\"\r\n    }\r\n    toString() { return figureToString(this.figure) +\" of \"+ colorToString(this.color); }\r\n    toStringColor() { return colorToString(this.color); }\r\n    toStringFigure() { return figureToString(this.figure); }\r\n}\r\n\r\n//rzutowanie - string\r\nexport const Color = {\r\n    hearts:\"hearts\",\r\n    clubs:\"clubs\",\r\n    diamonds:\"diamonds\",\r\n    spades:\"spades\",\r\n}\r\n\r\n//rzutowanie - porownaniowo latwe\r\nexport const Figure = {\r\n    2:2,\r\n    3:3,\r\n    4:4,\r\n    5:5,\r\n    6:6,\r\n    7:7,\r\n    8:8,\r\n    9:9,\r\n    10:10,\r\n    J:11,\r\n    Q:12,\r\n    K:13,\r\n    A:14,\r\n}\r\n\r\n//local utilities\r\nconst figureToString = (fig)=>{\r\n  switch(fig)\r\n  {\r\n      case Figure[2]: return \"2\";\r\n      case Figure[3]: return \"3\";\r\n      case Figure[4]: return \"4\";\r\n      case Figure[5]: return \"5\";\r\n      case Figure[6]: return \"6\";\r\n      case Figure[7]: return \"7\";\r\n      case Figure[8]: return \"8\";\r\n      case Figure[9]: return \"9\";\r\n      case Figure[10]: return \"10\";\r\n      case Figure.J: return \"jack\";\r\n      case Figure.Q: return \"queen\";\r\n      case Figure.K: return \"king\";\r\n      case Figure.A: return \"ace\";\r\n      default: return \"\";\r\n  }\r\n}\r\n\r\nconst colorToString = (col)=>{\r\n  switch(col)\r\n  {\r\n      case Color.hearts: return \"Hearts\";\r\n      case Color.clubs: return \"Clubs\";\r\n      case Color.diamonds: return \"Diamonds\";\r\n      case Color.spades:return \"Spades\";\r\n      default: return \"\";\r\n  }\r\n}","import { Card, Color, Figure } from \"./cards\";\r\n\r\nexport class HandDeck //ex. [card, card, null, null, card]\r\n{\r\n  constructor(size,color,handDeck)//tego nie uzywamy\r\n  {\r\n    this.cards = !handDeck ? getRandomHandCards(size,color) : handDeck.getCards();\r\n  }\r\n\r\n  static New(size,color){\r\n    return new HandDeck(size,color,null);\r\n  }\r\n\r\n  static Copy(handdeck){\r\n    return new HandDeck(null,null,handdeck);\r\n  }\r\n\r\n  //cards\r\n  getCard(id){return this.cards[id];}\r\n  getCards(){return this.cards;}\r\n  isCard(card){return this.cards.filter(a=>a.equal(card)).length !== 0}\r\n  takeOffCardByIndex(index){\r\n    this.cards[index]= null;\r\n    return this;\r\n  }\r\n  getCardsLength(){return this.getCards().filter(a=>a!==null).length}\r\n  getCardsSize(){return this.cards.length;}\r\n  \r\n  //\r\n  getRandomIndex(){\r\n    //random number\r\n    let len=this.getCardsLength();\r\n    if(len===0){console.log(\"wrong use\");return -1;}\r\n\r\n    let rand = getRandom(len);\r\n\r\n    for(let index =0;index<this.getCardsSize();index++)\r\n    {\r\n      if(this.cards[index]!==null) \r\n      {\r\n        if(rand===0) return index;\r\n        rand--;\r\n      }\r\n    }\r\n    console.log(\"wrong use\");\r\n    return -1;\r\n  }\r\n}\r\n\r\nexport class TableDeck\r\n{\r\n  constructor(size,handDeck1,handDeck2,tableDeck)\r\n  {\r\n    this.cards = !tableDeck ? getRandomTableCards(size,handDeck1,handDeck2) : this.cards = tableDeck.toArray();\r\n  }\r\n\r\n  static New(size,handDeck1,handDeck2){\r\n    return new TableDeck(size,handDeck1,handDeck2,null);\r\n  }\r\n\r\n  static Copy(tableDeck){\r\n    return new TableDeck(null,null,null,tableDeck);\r\n  }\r\n\r\n  getCard(id){return this.cards[id];}\r\n  getCards(){return this.cards;}\r\n\r\n  getWaveCode()\r\n  {\r\n    let res = new Array(this.cards.length-1);\r\n    \r\n    let prevFigure=null;\r\n    this.cards.forEach((card,i) => {\r\n      if(prevFigure!==null) \r\n      {\r\n        if(card.figure===prevFigure) res[i-1]=null;\r\n        else res[i-1] = card.figure-prevFigure>0;\r\n      }\r\n      prevFigure=card.figure;\r\n    });\r\n\r\n    return res;\r\n  }\r\n}\r\n\r\n//local\r\nvar getRandomHandCards = function(size,color)\r\n{\r\n  if(size>= Figure.length * Color.length) {console.log(\"size too high\");return [];}\r\n\r\n  let res = [];\r\n  while(res.length !== size)\r\n  {\r\n    let temp = new Card(getRandomColor(color),getRandomFigure());\r\n    if(res.filter((card)=>card.equal(temp)).length===0) res.push(temp);\r\n  }\r\n  return res;\r\n}\r\n\r\nvar getRandomTableCards = function(size,handDeck1,handDeck2)\r\n{\r\n  if(size>= Figure.length * Color.length) {console.log(\"size too high\");return [];}\r\n\r\n  let res = [];\r\n  while(res.length !== size)\r\n  {\r\n    let temp = new Card(getRandomColor(),getRandomFigure());\r\n    if(res.filter((card)=>card.equal(temp)).length===0 && !handDeck1.isCard(temp) && !handDeck2.isCard(temp)) \r\n    {\r\n      res.push(temp);\r\n    }\r\n  }\r\n  return res;\r\n}\r\n\r\nconst getRandom =(range)=>{//return number between 0 - (range-1)\r\n  return Math.floor(Math.random()*range);\r\n}\r\n\r\n//local of local\r\n\r\nvar getRandomFigure = function () {\r\n  var keys = Object.keys(Figure);\r\n  return Figure[keys[ keys.length * Math.random() << 0]];\r\n};\r\n\r\nvar getRandomColor = function (color=null) {//red or black colors\r\n  if(color ) return (Math.floor(Math.random()*2)===0)? (color===\"red\"?\"hearts\":\"clubs\"):(color===\"red\"?\"diamonds\":\"spades\")\r\n  \r\n  var keys = Object.keys(Color).filter(key=>color? Color[key]===color:true);\r\n  let a = Color[keys[ keys.length * Math.random() << 0]];\r\n  return a;\r\n};\r\n\r\n\r\n/* OLD CLASS DECK - maybe willlll be usefull\r\n\r\nexport class Deck {\r\n    constructor(redDeck,blackDeck) {//custom initialize deck | Deck = FullDeck - deck1 - deck2\r\n      this.cards = [];\r\n\r\n      let card;\r\n      for (const color of Object.keys(Color))\r\n      {\r\n        if(color === \"Red\")\r\n        {\r\n          for (const figure of Object.keys(Figure)) \r\n          {\r\n            card=new Card(color,figure);\r\n            if(!redDeck.includes(card)) this.cards.push(card);\r\n          }\r\n        }\r\n        else\r\n        {\r\n          for (const figure of Object.keys(Figure)) \r\n          {\r\n            card=new Card(color,figure);\r\n            if(!blackDeck.includes(card)) this.cards.push(card);\r\n          }\r\n        }\r\n      }\r\n      shuffleArray(this.cards);\r\n    }\r\n\r\n    getOneCard()\r\n    {\r\n      return this.cards.pop();\r\n    }\r\n}\r\n\r\nfunction shuffleArray(array) {\r\n  for (let i = array.length - 1; i > 0; i--) {\r\n      const j = Math.floor(Math.random() * (i + 1));\r\n      [array[i], array[j]] = [array[j], array[i]];\r\n  }\r\n}\r\n*/","import React from \"react\"\r\n\r\nconst Status = ({status}) => {\r\n    if(status===null) return <ins><span role=\"img\" aria-label=\"dot\">⚪⚪</span></ins>\r\n    if(status===false) return <ins><span role=\"img\" aria-label=\"dot\">⚪🔴</span></ins>\r\n    return <ins><span role=\"img\" aria-label=\"dot\">🟢⚪</span></ins>\r\n}\r\n \r\nexport default Status;","import React from \"react\";\r\nimport Status from \"./status\";\r\nimport style from './local.css'\r\n\r\nconst GameStatus = ({points,gameStatus}) => {\r\n\r\n    const getStatus=(index)=>{\r\n        if(!gameStatus)return null;\r\n        return gameStatus.length>index ? gameStatus[index] : null;\r\n    }\r\n\r\n    return ( <div style={{display:\"flex\",flexDirection:\"column\"}}>\r\n        <div>GAME STATUS</div>\r\n        <div className={style.gameStatusBody}>\r\n            {points.map((point,index) =>\r\n            <div key={index}>\r\n                <div>{point}pkt</div>\r\n                <Status status={getStatus(index)}/> </div>\r\n            )}\r\n        </div>\r\n    </div> );\r\n}\r\n \r\nexport default GameStatus;","\r\nimport React from 'react';\r\nimport { Color, Figure } from '../../models/cards';\r\n\r\nexport const CCard = ({card,isFlipped,onClick}) => {\r\n    \r\n    return ( \r\n        <div className={'flip-card scale-hoverable'} onClick={onClick} style={{transform: (isFlipped? \"rotateY(180deg)\":\"\")}} >\r\n            \r\n            <div className={'flip-card-front'}>\r\n                <img \r\n                src={getPath(card,false)} \r\n                alt={card.toString()}></img>\r\n            </div>\r\n           \r\n            <div className='flip-card-back'>\r\n                <img\r\n                src={getPath(card,true)} \r\n                alt={\"Flipped card\"}></img>\r\n            </div>\r\n            \r\n        </div>\r\n        );\r\n}\r\n\r\nexport const MiniCard = ({style,isChildrenRotate,children}) => {\r\n    const {height,...globalStyle} = style;\r\n    const getTransfrom=(isRotate)=>{\r\n        if(isRotate)return \"translate(-50%,-65%) rotate(90deg)\"\r\n        return \"translate(-50%,-65%)\"\r\n    }\r\n    return (\r\n        <div className='scale-hoverable relative' style={globalStyle} >\r\n            <img style={{height,opacity:\"0.8\"}} src={getPath()} alt={\"Mini card\"}></img>\r\n            <div className='centered blackAndWhite' style={{fontWeight:\"bold\",fontSize:\"20px\",transform:getTransfrom(isChildrenRotate)}}>{children}</div>\r\n        </div>)\r\n}\r\n// local\r\n\r\n//niewykorzystywany \"?\" na odwrocie ... moze kiedys. (flip-q)\r\nconst prepath = \"/asset-cards-cute\" //row: 1-trefl , 2-karo , 3-pik , 4-kier\r\nconst getPath = (card=null,isFlipped=null)=>\r\n{\r\n    if(card===null) return process.env.PUBLIC_URL + [prepath,\"flip-empty\"].join(\"/\")+\".png\";\r\n    if(isFlipped) return process.env.PUBLIC_URL + [prepath,\"flip-\"+card.getColorOfColor()].join(\"/\")+\".png\";\r\n    \r\n    return process.env.PUBLIC_URL + [prepath,[\"row\",colorToRowNumber(card.color),\"column\",figureToColumnNumber(card.figure)].join(\"-\")].join(\"/\")+\".png\";\r\n}\r\n\r\n//local of local\r\nconst colorToRowNumber =(color)=>\r\n{\r\n    switch(color)\r\n    {\r\n        case Color.hearts: return 4;\r\n        case Color.clubs: return 1;\r\n        case Color.diamonds: return 2;\r\n        case Color.spades:return 3;\r\n        default: return 1;\r\n    }\r\n}\r\nconst figureToColumnNumber = (fig)=>{\r\n    return ((fig-1) % (Object.keys(Figure).length))+1\r\n}\r\n\r\n/*\r\nconst prepath = \"/asset-cards-basic\"\r\nconst getPath = (card,isFlipped)=>{\r\n    if(isFlipped) return [prepath,\"flipped\",card.toStringFlipSign()].join(\"/\")+\".png\";\r\n    return [prepath,[card.toStringFigure(),\"of\",card.toStringColor()].join(\"_\")].join(\"/\")+\".png\";\r\n}\r\n\r\n//const test = \"/asset-cards-bnw/flip-black/Flipped_black.png\"\r\n\r\nconst getPath = (card,isDarkMode,isFlipped)=>{\r\n    let mode = isDarkMode?\"black\":\"white\"\r\n    if(isFlipped) return [prepath,\"flip-\"+mode,[card.toStringFlipSign(),mode].join(\"_\")].join(\"/\")+\".png\";\r\n    return [prepath,mode,[card.toStringColor(),card.toStringFigure(),mode].join(\"_\")].join(\"/\")+\".png\";\r\n}\r\n*/","import React, { useRef, useState } from \"react\";\r\nimport {CCard } from \"./CCard\";\r\nimport style from './CHand.css'\r\nimport { useEffect } from \"react\";\r\n\r\nexport const CHand = ({initSize,handDeck,flop,isAcceptable,show={index:-1,isActive:false,cardPreview:false}}) => {\r\n    //handDeck nullable, ex. [null,card,card,null,null], state\r\n    //flop nullable, ex. [false,true,true,false,false], state\r\n    //show - index, isActive, cardPreview\r\n\r\n    const isNull = (id)=>{ //zalezne tylko od handdeck\r\n        if(!handDeck || !flop) return null;\r\n        return handDeck.getCard(id);\r\n    }\r\n\r\n    const getOpacity = ()=>{\r\n        return (!isAcceptable && !show.isActive?\"0.5\":\"1\")\r\n    }\r\n\r\n    const getCardOpacity = (index)=>{\r\n        return ((show.isActive && show.index!==index) ?\"0.5\":\"1\")\r\n    }\r\n\r\n    const getTranform =(index)=>{\r\n        return \"translate(0,\"+((index===show.index && (show.cardPreview||show.isActive)) ?\"25px\":\"0\")+\") \"\r\n    }\r\n\r\n    //drag and drop\r\n    const [orders,setOrders] = useState([...Array(initSize).keys()]);//cardIndex = orders[boxid] \r\n    const dragItem = useRef(null); //zapisywane jest boxid\r\n    const dragOverItem = useRef(null); //zapisywane jest boxid\r\n    const trySwitchOrder = ()=>{\r\n        if(!isAcceptable) return;\r\n        if(dragItem.current===null) return;\r\n        if(dragOverItem.current===null) return;\r\n\r\n        let boxid1 =dragItem.current;\r\n        let boxid2= dragOverItem.current;\r\n        let arr = [...orders];\r\n        [arr[boxid1],arr[boxid2]] = [arr[boxid2],arr[boxid1]]\r\n        setOrders(arr);\r\n\r\n        dragItem.current = null;\r\n        dragOverItem.current = null\r\n    }\r\n\r\n    return (\r\n        <div style={{\"position\":\"relative\"}}>\r\n            <div className={style.divflex+\" \" +style.hand+\" forth-color\"} style={{opacity:getOpacity()}}>\r\n                { orders.map((cardIndex,index)=>\r\n                    <div key={index} \r\n                    onDragStart={()=>{dragItem.current = index}}\r\n                    onDragEnter={()=>{dragOverItem.current = index}}\r\n                    onDragEnd={trySwitchOrder}\r\n                    >\r\n                        {isNull(cardIndex) &&\r\n                        <div style={{transition:\"transform 0.2s ease-in\",\r\n                        transform:getTranform(cardIndex),\r\n                        opacity:getCardOpacity(cardIndex)}}>\r\n\r\n                        <CCard card={handDeck.getCard(cardIndex)} isFlipped={flop.getFlip(cardIndex)}/>\r\n                            \r\n                        </div>}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n         );\r\n}\r\n\r\n\r\n\r\nexport const CMyHand = ({initSize,handDeck,flop,isAcceptable,onAccept,show={index:-1,isActive:false,cardPreview:true},enterPrice}) => { \r\n    //isAcceptable-state ,\r\n    //handDeck nullable, ex. [null,card,card,null,null], state\r\n    //flop nullable, ex. [false,true,true,false,false], state\r\n    //show - index, isActive,cardPreview\r\n\r\n    const [toggledCardIndex,setToggledCardIndex] = useState(null);\r\n\r\n    useEffect(()=>{if(isAcceptable===false) setToggledCardIndex(null)},[isAcceptable])\r\n\r\n    const handleToggle = (index)=>{\r\n        if(index===toggledCardIndex) setToggledCardIndex(null);\r\n        else setToggledCardIndex(index);\r\n    }\r\n    const handleAccept = (index)=>{\r\n        onAccept(index);\r\n    }\r\n\r\n    const isNull = (id)=>{ //zalezne tylko od handdeck\r\n        if(!handDeck || !flop) return null;\r\n        return handDeck.getCard(id);\r\n    }\r\n\r\n    const getOpacity = ()=>{\r\n        return (!isAcceptable && !show.isActive?\"0.5\":\"1\")\r\n    }\r\n\r\n    const getCardOpacity = (index)=>{\r\n        return (isAcceptable || (show.isActive && show.index===index) ?\"1\":\"0.5\")\r\n    }\r\n\r\n    const getTranform =(index)=>{\r\n        return \"translate(0,\"+((index===toggledCardIndex \r\n            || (show.cardPreview===null && index===show.index)\r\n            || (show.cardPreview===true && index===show.index)) ?\"-30px\":\"0\")+\") \"\r\n    }\r\n    \r\n    //drag and drop\r\n    const [orders,setOrders] = useState([...Array(initSize).keys()]);//cardIndex = orders[boxid] \r\n    const dragItem = useRef(null); //zapisywane jest boxid\r\n    const dragOverItem = useRef(null); //zapisywane jest boxid\r\n    const trySwitchOrder = ()=>{\r\n        if(!isAcceptable) return;\r\n        if(dragItem.current===null) return;\r\n        if(dragOverItem.current===null) return;\r\n\r\n        let boxid1 =dragItem.current;\r\n        let boxid2= dragOverItem.current;\r\n        let arr = [...orders];\r\n        [arr[boxid1],arr[boxid2]] = [arr[boxid2],arr[boxid1]]\r\n        setOrders(arr);\r\n\r\n        dragItem.current = null;\r\n        dragOverItem.current = null\r\n    }\r\n    \r\n    //sort order\r\n    //5,null,null,K,Q => null,null,5,Q,K => null,null,0,4,3 => 1,2,0,4,3\r\n    const trySort=()=>{\r\n        if(!handDeck)return;\r\n        if(!isAcceptable) return;\r\n\r\n        let cards = handDeck.getCards()\r\n\r\n        let sorted = [...cards];\r\n        sorted.sort(function(a,b){\r\n            if(a===null&&b===null)return 0;\r\n            if(a===null)return -1;\r\n            if(b===null)return 1;\r\n            return a.figure-b.figure; \r\n        });\r\n\r\n        sorted = sorted.map(scard=>{\r\n            if(scard!==null) return cards.findIndex((card)=>{if(card===null)return false; return card.equal(scard)}) \r\n            return null\r\n        })\r\n\r\n        let cnt=0;\r\n        cards.forEach((card,index) => {  if(card===null) sorted[cnt++]=index; });\r\n\r\n        console.log(sorted);\r\n\r\n        setOrders(sorted);\r\n    }\r\n\r\n    return (\r\n        <div style={{\"position\":\"relative\"}}>\r\n        <div className={style.divflex+\" \"+style.hand+\" forth-color\"} style={{opacity:getOpacity()}}>\r\n            { orders.map((cardIndex,index)=>\r\n            <div key={index} \r\n            onDragStart={()=>{dragItem.current = index}}\r\n            onDragEnter={()=>{dragOverItem.current = index}}\r\n            onDragEnd={trySwitchOrder}\r\n            >\r\n                    {isNull(cardIndex) && \r\n                    <div style={{\r\n                        position:\"relative\",\r\n                        transition:\"transform 0.2s ease-in\",\r\n                        transform:getTranform(cardIndex),\r\n                        opacity:getCardOpacity(cardIndex)\r\n                        }}>\r\n                    <CCard\r\n                        card={handDeck.getCard(cardIndex)}\r\n                        isFlipped={flop.getFlip(cardIndex)}\r\n                        onClick={()=>{if(isAcceptable)handleToggle(cardIndex)}}\r\n                    />\r\n\r\n                    <button \r\n                    className=\"hoverable\"\r\n                    style={{ \r\n                    fontSize:\"16px\",fontWeight:\"bold\",border:\"black 3px solid\",borderRadius:\"15px 15px 0px 0px\",backgroundColor:\"rgb(144, 238, 144)\",\r\n                    position:\"absolute\",left: \"50%\",transform: \"translate(-50%, 0)\",marginTop:\"-7px\",\r\n                    opacity:(cardIndex===toggledCardIndex ?\"1\":\"0\"),\r\n                    transition:\"height 0.2s ease-in\",\r\n                    height:(cardIndex===toggledCardIndex?\"30px\":\"0\"),\r\n                    }}\r\n                    onClick={()=>handleAccept(cardIndex)}>ACCEPT</button>\r\n                    </div> }\r\n            </div>\r\n            )}\r\n            {!handDeck && isAcceptable && <button className=\"hoverable\" style={{position:\"absolute\",height:\"auto\",alignSelf:\"center\"}} \r\n            onClick={onAccept} disabled={!isAcceptable}>PAY ENTRANCE ({enterPrice}$)</button>}\r\n        </div> \r\n           {handDeck && show.cardPreview && <button className=\"right-centered forth-color\" style={{right:\"-190px\"}} onClick={trySort} disabled={!isAcceptable}>SORT</button>}\r\n        </div>);\r\n}\r\n\r\nexport const CTable = ({initSize,tableDeck,flop,tableHands}) => {\r\n    //tableDeck nullable, ex. [null,card,card,null,null], state\r\n    //flop nullable, ex. [false,true,true,false,false], state\r\n    //tableHands state ex.[{up:card,down:card},...]\r\n\r\n    const isNull = (id)=>{ //zalezne tylko od handdeck\r\n        if(!tableDeck || !flop) return null;\r\n        return tableDeck.getCard(id);\r\n    }\r\n\r\n    const isTableHand = (index,isup)=>{\r\n        if(!tableHands || tableHands.length<=index) return false;\r\n        return isup ? tableHands[index].up!==null : tableHands[index].down!==null;\r\n    }\r\n    \r\n    return (\r\n        <div className={style.divflex+\" \"+style.table+\" forth-color\"}>\r\n            { new Array(initSize).fill(0).map((_,index) =>(\r\n                <div key={index}>\r\n                    {isNull(index) && <CCard mini card={tableDeck.getCard(index)} isFlipped={flop.getFlip(index)} /> }\r\n                    {isTableHand(index,true) && <CCard minimini card={tableHands[index].up} isFlipped={false} />}\r\n                    {isTableHand(index,false) && <CCard minimini card={tableHands[index].down} isFlipped={false} />}\r\n                </div>\r\n            ))}\r\n        </div>\r\n         );\r\n}\r\n","export class Flop //ex. [true,false,true,true,false]\r\n{\r\n  constructor(size,flop)//tego nie uzywamy\r\n  {\r\n    this.flips = !flop ? new Array(size).fill(true) : flop.getFlips();\r\n  }\r\n\r\n  static New(size){\r\n    return new Flop(size,null);\r\n  }\r\n\r\n  static Copy(flop){\r\n    return new Flop(null,flop);\r\n  }\r\n\r\n  getFlips(){return this.flips;}\r\n  getFlip(index){return this.flips[index]}\r\n  isShowAll(){\r\n    let res = true;\r\n    this.flips.forEach(flip => { if(flip)res=false; });\r\n    return res;\r\n  }\r\n  show(index){this.flips[index]=false;return this;}\r\n  showOnly(index)\r\n  {\r\n    for(let i =0;i<this.flips.length;i++)\r\n    {\r\n      if(i===index) this.flips[i]=false;\r\n      else this.flips[i]=true;\r\n    }\r\n    return this;\r\n  }\r\n  showAll(){this.flips =new Array(this.flips.length).fill(false);return this}\r\n  showNext(){\r\n    \r\n    let id = 0;\r\n    while(this.flips[id]===false && this.flips.length!==id)id++;\r\n    if(this.flips.length!==id) this.flips[id]=false;\r\n    \r\n    return this;\r\n  }\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport style from './local.css'\r\n\r\nconst Timer = ({sets,onEnd}) => { // {time,reset,dotted=null}\r\n    \r\n    const [time,setTime]=useState(0);\r\n    const [isRed,setIsRed]=useState(false);\r\n    const isDotted=useRef(false);\r\n\r\n    useEffect(()=>{\r\n        if(!sets)return;\r\n        \r\n        if(sets.reset)\r\n        {\r\n            if(isRed) setIsRed(false);\r\n            isDotted.current=sets.dotted?sets.dotted:false;\r\n            let interval =startTimer(sets.time);\r\n            return ()=>clearInterval(interval);\r\n        }\r\n        else if(sets.time< time) \r\n        {\r\n            setIsRed(true);\r\n            let interval =startTimer(sets.time);\r\n            return ()=>clearInterval(interval);\r\n        }\r\n    },[sets]);\r\n\r\n    const startTimer=(time)=>{\r\n        let curr = time;\r\n        setTime(curr);\r\n        let interval = setInterval(()=>{\r\n            setTime(--curr);\r\n            if(curr===0)\r\n            {\r\n                clearInterval(interval);\r\n                onEnd();\r\n            }\r\n        },1000);\r\n        return interval\r\n    }\r\n\r\n    const getTimerFormat=()=>{\r\n        if(isDotted.current) return \".\".repeat(time);\r\n        return time?(time+\"s\"):\"TIMER\";\r\n    }\r\n    \r\n    return ( <div className={\"darker-color forth-color \"+style.timer+\" \"+(isRed?style.redTimer:style.defaultTimer)} >{getTimerFormat()} </div> );\r\n}\r\n \r\nexport default Timer;\r\n","\r\nimport React from 'react';\r\nimport { Random } from '../models/random';\r\n\r\nexport class Name extends React.Component\r\n{\r\n    //myname name bold\r\n\r\n    getName()\r\n    {\r\n        if(this.props.myname) return getMyName();\r\n        else if(this.props.name) return this.props.name\r\n        else return Random.getRandomName(true)\r\n    }\r\n\r\n    render()\r\n    { \r\n        return (\r\n            <ins style={{\"fontWeight\":(this.props.bold?\"bold\":\"none\")}}>\r\n                {this.getName()}\r\n            </ins>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n//local\r\n\r\nconst getMyName= ()=> {\r\n    let name = localStorage.getItem(\"name\");\r\n    if(!name) \r\n    {\r\n        name = Random.getRandomName(false);\r\n    }\r\n\r\n    return name;\r\n}\r\n","import React from \"react\";\r\nimport { MiniCard } from \"./CCard\";\r\n\r\n//main\r\nconst boxHeight = 134; //in px (144-boxPadding)\r\nconst cardHeight=50;//in px; boxHeight > cardHeight\r\nconst minCardWidth=40//in px; orginalna karta ma 144x100 wiec z proporcji...\r\n\r\n//details\r\nconst boxPadding = 5;\r\nconst cardMargin = 5;//in px\r\n\r\n//Wave\r\nconst Wave = ({size,code=null}) => {\r\n    //code: [true,false,false,null] - rosnie,maleje,maleje,stoi,maleje\r\n    //code.length+1 === size !!!\r\n\r\n    const getCardStyle=(delta=null,index=null)=>{return{\r\n        marginLeft:(index===0?\"0px\":cardMargin),\r\n        height:cardHeight+\"px\",\r\n        transform:\"translateY(\"+(-delta*getDeltaSpace())+\"px)\",\r\n    }}\r\n    const getBoxStyle=()=>{return{\r\n        padding:(boxPadding+\"px\"),\r\n        height:(boxHeight+\"px\"), //max height\r\n        width:getBoxWidth()+\"px\",\r\n    }}\r\n\r\n    // [true,false,false,null] => [0,1,0,-1,-1] => - || -\r\n    // [true,true,true,null] => [0,1,2,3,3] => [-2,-1,0,1,1]\r\n    // [false,false,false,false] => [0,-1,-2,-3,-4] => [2,1,0,-1,-2 ]\r\n    const getDeltaArray=()=>{\r\n        let res = new Array(size);\r\n        \r\n        //1=>2\r\n        res[0]=0;\r\n        code.forEach((c,i) => {\r\n            res[i+1]= res[i]+(c===null?0:(c?1:-1))\r\n        });\r\n\r\n        //2=>3\r\n        let max = Math.max(...res);\r\n        let min = Math.min(...res);\r\n        let distance = max+Math.abs(min);//max is always positive\r\n        let shift = Math.floor(distance/2);\r\n        if(max>Math.abs(min)) res= res.map(a=>a-shift);\r\n        else res = res.map(a=>a+shift);\r\n        \r\n        return res;\r\n    }\r\n\r\n    //local\r\n    const getDeltaSpace=()=>{\r\n        return Math.floor((boxHeight-cardHeight)/(size-1));\r\n    }\r\n    const getBoxWidth=()=>{\r\n        return minCardWidth*size + cardMargin*(size-1)\r\n    }\r\n\r\n    const getEmojiSpan=(code)=>{\r\n        if(code===true) return <span role=\"img\" aria-label=\"up\" style={{fontSize:\"15px\",opacity:\"0.5\"}}>⬆️</span>\r\n        if(code===false) return <span role=\"img\" aria-label=\"down\"style={{fontSize:\"15px\",opacity:\"0.5\"}}>⬇️</span>\r\n        return <span role=\"img\" aria-label=\"eq\"style={{fontSize:\"15px\",opacity:\"0.5\"}}>⏸️</span>\r\n    }\r\n\r\n    return ( \r\n    <div className='wave-box forth-color' style={getBoxStyle()}>\r\n        {code && getDeltaArray().map((delta,i)=>(\r\n            <MiniCard key={i} style={getCardStyle(delta,i)} \r\n            isChildrenRotate={i===0 || code[i-1]===null}>\r\n                {getEmojiSpan(i===0?null:code[i-1])}\r\n            </MiniCard>\r\n        ))}\r\n    </div> );\r\n}\r\n\r\nexport default Wave;","import React, { useRef }  from 'react';\r\nimport { useParams } from 'react-router';\r\nimport { HandDeck, TableDeck} from '../models/decks';\r\nimport { useState } from 'react';\r\nimport { useContext } from 'react';\r\nimport { useEffect } from 'react';\r\nimport GameStatus from './components/gamestatus';\r\nimport { CHand, CMyHand, CTable } from './components/CHand';\r\nimport {Flop} from '../models/flops'\r\nimport { GameType } from '../models/game';\r\nimport { DialogContext } from '../context/DialogContext';\r\nimport { AccountContext } from '../context/AccountContext';\r\nimport Timer from './components/timer';\r\nimport { GameSet } from '../models/consts';\r\nimport style from './local.css'\r\nimport classNames from 'classnames';\r\nimport {Name} from '../components/Name';\r\nimport { Link } from 'react-router-dom';\r\nimport { CodeContext } from '../context/CodeContext';\r\nimport Wave from './components/Wave';\r\nimport { Figure } from '../models/cards';\r\nimport { Random } from '../models/random';\r\n\r\nconst test = false;\r\n\r\nconst CGame = () => {\r\n\r\n    //phases: ready-startround-accept-endround\r\n    \r\n    const {isDialog,setTextDialog}  = useContext(DialogContext)\r\n    const {balance,chargeBalance,chargeXp}           = useContext(AccountContext);\r\n    const {isCodeUsed,tryDeleteCodeUsed,saveCode}     = useContext(CodeContext);\r\n\r\n    const { id, myColor,opName,enterPrice } = useParams();\r\n    const game = GameSet.getGame(id);\r\n\r\n    const [myHandDeck,setMyHandDeck] = useState(null);\r\n    const [opHandDeck,setOpHandDeck] = useState(null);\r\n    const [tableDeck,setTableDeck] = useState(null);\r\n    const [myFlop,setMyFlop] = useState(null);//useless troche ale no.\r\n    const [opFlop,setOpFlop] = useState(null);\r\n    const [tableFlop,setTableFlop] = useState(null);\r\n\r\n    const [isAcceptable,setIsAcceptable] = useState(false);\r\n    const [isOpAcceptable,setIsOpAcceptable] = useState(false);\r\n    const [isOpQuit,setIsOpQuit] = useState(false);\r\n    const [myAcceptedIndex,setMyAcceptedIndex]=useState(null);//=> isAccpetable=true\r\n    const [opAcceptedIndex,setOpAcceptedIndex]=useState(null);//=> isAccpetable=true\r\n\r\n    const opSimulation= useRef(null);\r\n\r\n    const [timerSets,setTimerSets] = useState(null);  \r\n    const handleTimerEndString = useRef(\"null\");  \r\n\r\n    const [isShow,setIsShow]=useState(false);\r\n    const [gameStatus,setGameStatus]=useState(null);//true -myWin, false- opWin //can get round info //setter uzywany tylko raz na runde! //jesli null to przygotowania na razie\r\n    const [tableHands,setTableHands]=useState([]);// {up:card, down:card} \r\n    const getRoundTime = ()=>{return game.getRoundTime(gameStatus.length) }\r\n\r\n    useEffect(()=>{\r\n        if(myAcceptedIndex!==null && opAcceptedIndex!==null) endRound();\r\n        else if(myAcceptedIndex!==null || opAcceptedIndex!==null) setTimerSets({time:getRoundTime(gameStatus.length)/2})\r\n\r\n        if(myAcceptedIndex!==null && isAcceptable)setIsAcceptable(false);\r\n        if(opAcceptedIndex!==null && isOpAcceptable)setIsOpAcceptable(false);\r\n    },[myAcceptedIndex,opAcceptedIndex])\r\n\r\n    useEffect(()=>{\r\n        if(!test)\r\n        {\r\n            const timeout = setTimeout(()=>{\r\n                setIsOpAcceptable(true);//for ready button\r\n                setIsAcceptable(true);//for ready button\r\n                const timeout2 = setTimeout(()=>{OpReady()},1000*(3+Random.getRandom(3)));//op player ready (3-5s)\r\n                return ()=>clearTimeout(timeout2);\r\n    \r\n            },1000);\r\n            return ()=>clearTimeout(timeout);\r\n        }\r\n        else\r\n        {\r\n            setIsOpAcceptable(true);\r\n            setIsAcceptable(true);\r\n            OpReady()\r\n        }\r\n        \r\n    },[]);\r\n\r\n    const IReady = ()=>{ \r\n        setIsAcceptable(false);//ready button\r\n        setMyHandDeck(HandDeck.New(game.handDeckSize,myColor)); \r\n        setMyFlop(Flop.New(game.handDeckSize));\r\n    }\r\n    const OpReady = ()=>{\r\n        setIsOpAcceptable(false);//ready button\r\n        setOpHandDeck(HandDeck.New(game.handDeckSize,myColor===\"red\"?\"black\":\"red\")); \r\n        setOpFlop(Flop.New(game.handDeckSize));\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(myHandDeck && opHandDeck && !tableDeck)\r\n        {\r\n            setTableDeck(TableDeck.New(game.tableDeckSize,myHandDeck,opHandDeck)); \r\n            setTableFlop(Flop.New(game.tableDeckSize));\r\n\r\n            if(!test)chargeBalance(-enterPrice);//ACCOUNT\r\n    \r\n            restartTimer(\"readyDeckTimer\", 5 ,true);\r\n        }\r\n    },[myHandDeck,opHandDeck])\r\n\r\n    const handleOnAccept=(index)=>{\r\n        if(!myHandDeck){\r\n            if(balance<enterPrice) setTextDialog(\"Not enough money to play.\",\"\");\r\n            else IReady();\r\n        } \r\n        else setMyAcceptedIndex(index);\r\n    }\r\n\r\n    const startRound =()=>{\r\n\r\n        //pokazanie kart\r\n        if(!myFlop.isShowAll())setMyFlop(Flop.Copy(myFlop).showAll())\r\n        if(!opFlop.isShowAll() && game.type===GameType.OpenCards) setOpFlop(Flop.Copy(opFlop).showAll())\r\n\r\n        //pokazanie karty\r\n        setTableFlop(Flop.Copy(tableFlop).showNext())\r\n\r\n        //wlaczenie dotykalnosci\r\n        setIsAcceptable(true);\r\n        setIsOpAcceptable(true);\r\n\r\n        //zaczecie myslenia\r\n        simulateOp();\r\n\r\n        //end\r\n        restartTimer(\"startRoundTimer\", getRoundTime(gameStatus.length) ,false);\r\n    }\r\n\r\n    \r\n\r\n    const forceEndRound=()=>{\r\n        if(myAcceptedIndex===null)setMyAcceptedIndex(myHandDeck.getRandomIndex())\r\n        if(opAcceptedIndex===null)setOpAcceptedIndex(opHandDeck.getRandomIndex())\r\n    }\r\n\r\n    const endRound = ()=>{\r\n        //clear opSimulation\r\n        clearInterval(opSimulation.current);\r\n\r\n        //show\r\n        setIsShow(true);\r\n\r\n        //pokazuje karty\r\n        if(game.type===GameType.HiddenCards) setOpFlop(Flop.Copy(opFlop).show(opAcceptedIndex))\r\n        \r\n        restartTimer(\"endRoundTimer\",5,true);\r\n    }\r\n\r\n    function onTimerEnd()\r\n    {\r\n        if(handleTimerEndString.current===\"startRoundTimer\") startRoundTimer(); \r\n        else if (handleTimerEndString.current===\"endRoundTimer\")endRoundTimer();\r\n        else if (handleTimerEndString.current===\"readyDeckTimer\") readyDeckTimer();\r\n    }\r\n    const startRoundTimer = ()=>{forceEndRound();} //if round timer ends\r\n    const readyDeckTimer = ()=>{setGameStatus([])} //if ready section ends\r\n    //if ending timer ends\r\n    const endRoundTimer=()=>{\r\n        let myCard = myHandDeck.getCard(myAcceptedIndex)\r\n        let opCard = opHandDeck.getCard(opAcceptedIndex)\r\n        let tableCard = tableDeck.getCard(gameStatus.length);\r\n\r\n        //usuwa karty\r\n        setMyHandDeck(HandDeck.Copy(myHandDeck).takeOffCardByIndex(myAcceptedIndex))\r\n        setOpHandDeck(HandDeck.Copy(opHandDeck).takeOffCardByIndex(opAcceptedIndex))\r\n\r\n        //zerowanko\r\n        setMyAcceptedIndex(null);\r\n        setOpAcceptedIndex(null);\r\n        setIsShow(false);\r\n    \r\n        //dodaje do tableHands\r\n        let arr = [...tableHands];\r\n        arr.push({up:opCard,down:myCard})\r\n        setTableHands(arr);\r\n\r\n        //dodaje do gameStatus\r\n        arr = [...gameStatus];\r\n        arr.push(myCard.isCloser(opCard,tableCard));\r\n        setGameStatus(arr); //przy zmianie statusu => nowa runda hanler\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(gameStatus!==null)\r\n        {\r\n            if(gameStatus.length<game.getMaxRounds()) startRound();\r\n            else\r\n            {\r\n                let greens = countGreens();\r\n                let myPoints = countPoints();\r\n                if(game.isWin(myPoints))\r\n                {\r\n                    setTextDialog(\"YOU WON\",\"GGs!\");\r\n                    if(gameStatus.length === greens) \r\n                    {\r\n                        if(!isCodeUsed(2)) saveCode(2,\"Your first all-green win! Grab a reward.\");\r\n                        else{\r\n                            tryDeleteCodeUsed(4) \r\n                            saveCode(4,\"All-green win! GGs!\");\r\n                        }\r\n                    }\r\n                    \r\n                    chargeBalance(enterPrice*2);\r\n                }\r\n                else if(game.isDraw(myPoints))\r\n                {\r\n                    setTextDialog(\"YOU DREW\",\"Even gameplay.\");\r\n                    chargeBalance(enterPrice);\r\n                }\r\n                else\r\n                {\r\n                    setTextDialog(\"YOU LOSE\",\"Better luck next time...\");                \r\n                }\r\n                \r\n                chargeXp(greens*10);\r\n\r\n                leaveOp();\r\n            }\r\n        }\r\n    },[gameStatus])\r\n\r\n    const simulateOp = ()=>{\r\n        opSimulation.current = setInterval(()=>{\r\n            let range = getRoundTime(gameStatus.length)/5;\r\n            if(isEndRound()) range = 2;\r\n            else if(myAcceptedIndex) range = 3;\r\n            else if(Random.getRandom(5)===1) range=3;//extra\r\n\r\n            if(Random.getRandom(range)===1)//gdy roundtime =30 to 12s,\r\n            {\r\n                setOpAcceptedIndex(opHandDeck.getRandomIndex());\r\n                clearInterval(opSimulation.current);\r\n            }\r\n        },2000);\r\n    }\r\n    const leaveOp=()=>{\r\n        setTimeout(()=>{\r\n            setIsOpQuit(true);\r\n        },(4+Random.getRandom(7))*1000)//4s - 10s\r\n    }\r\n\r\n    function restartTimer(handler,time,dotted){\r\n        setTimerSets({time:time,reset:true,dotted:dotted});\r\n        handleTimerEndString.current =handler;\r\n    }\r\n\r\n    const countPoints = () =>{\r\n        let cnt = 0;\r\n        game.points.forEach((point,index) => {\r\n            if(gameStatus[index]) cnt+= point;\r\n        });\r\n        return cnt;\r\n    }\r\n    const countGreens=()=>{\r\n        let cnt = 0;\r\n        gameStatus.forEach(status => {\r\n            if (status===true)cnt++;\r\n        });\r\n        return cnt;\r\n    }\r\n\r\n    const getShow=(my)=>{\r\n       return {index:(my?myAcceptedIndex:opAcceptedIndex),isActive:isShow,cardPreview:(my?true:(game.type!==GameType.OpenCards))}\r\n    }\r\n\r\n    const isEndRound = ()=>{\r\n        return gameStatus===null ? false : gameStatus.length===game.getMaxRounds();\r\n    }\r\n    const getWaveCode = ()=>{\r\n        if(!tableDeck) return null;\r\n        return tableDeck.getWaveCode();\r\n    }\r\n\r\n    return ( \r\n        <div className={\"blurable \" +classNames({\"blured\":isDialog} )+\" layout\"} >\r\n\r\n            <div className={style.timer}>\r\n                <Timer sets={timerSets} onEnd={()=>onTimerEnd()}/>\r\n            </div>\r\n\r\n            <div className={style.handtable+\" fade\"}>\r\n                {!isOpQuit && <Name bold name={opName}/> }\r\n                {isOpQuit && <Name bold name={\"[opponent left]\"}/> }\r\n                <CHand initSize={game.handDeckSize} handDeck={opHandDeck} flop={opFlop} isAcceptable={isOpAcceptable} show={getShow(false)}/>\r\n                <CTable initSize={game.tableDeckSize} tableDeck={tableDeck} flop={tableFlop} tableHands={tableHands}/>\r\n                <CMyHand initSize={game.handDeckSize} handDeck={myHandDeck} flop={myFlop} isAcceptable={isAcceptable}\r\n                    onAccept={(index)=> handleOnAccept(index)}\r\n                    show={getShow(true)}\r\n                    enterPrice={enterPrice}/>\r\n                <Name bold myname/>\r\n            </div>\r\n\r\n            <div className={style.wave}>\r\n                <Wave size={game.tableDeckSize} code={getWaveCode()}/>\r\n            </div>\r\n\r\n            <div className={style.sidebar } >\r\n                <h2>{game.name}</h2>\r\n                <div className=\"layout-info\">WIN PRICE\r\n                    <div className=\"layout-info-big\"><ins>{enterPrice}$</ins> {enterPrice*2}$ <ins>{enterPrice}$</ins></div>\r\n                </div>\r\n                <GameStatus points={game.points} gameStatus={gameStatus}/>\r\n                <div className=\"layout-info\">RULES\r\n                    <div>Card closest to the one on the table wins</div>\r\n                    <div>If figure is the same - color matters</div>\r\n                    <div>Last round has higher punctation</div>\r\n                    <div>So play smart, play LATER!</div>\r\n                </div>\r\n                <div className=\"layout-info\">INFO\r\n                    <div>Drag card to switch its position</div> \r\n                    <div>The mini panel represents card's figures comparison</div>\r\n                    <div>Card's order: {Object.keys(Figure).join(\" \")}</div>\r\n                </div>\r\n                {isEndRound() && <Link to={{ pathname: ('/')}}>\r\n                    <div className={style.quit +\" hoverable\"}>QUIT</div>\r\n                </Link>}\r\n            </div>\r\n        </div>\r\n        \r\n     );\r\n}\r\n\r\nexport default CGame;\r\n","import React, { useState } from 'react'\r\n\r\nexport const DarkModeContext = React.createContext();\r\n\r\nconst DarkModeProvider = ({children})=>\r\n{\r\n    var [isDarkMode,setIsDarkMode] = useState(true);\r\n\r\n    return(\r\n        <DarkModeContext.Provider value={{isDarkMode:isDarkMode,switchDarkMode:()=>setIsDarkMode(!isDarkMode)}}>\r\n            {children}\r\n        </DarkModeContext.Provider>\r\n    )\r\n}\r\n\r\nexport default DarkModeProvider;","import React, { useContext, useEffect, useState }  from 'react';\r\nimport { AccountContext } from '../context/AccountContext';\r\nimport { DarkModeContext } from '../context/DarkModeContext';\r\nimport './Account.css'\r\nimport { CodeContext } from '../context/CodeContext';\r\nimport { DialogContext } from '../context/DialogContext';\r\nimport { NotificationContext } from \"../context/NotificationContext\";\r\n\r\nconst test = false;\r\n\r\nconst Account = ({onCharging}) => {\r\n    //onCharging - is balance charging up - true ; is balance charging down - false ; is not charging - null ;\r\n\r\n    const {balance,xp} = useContext(AccountContext);\r\n    const {isNotification}=useContext(NotificationContext);\r\n    const {isDialog,setTextDialog} = useContext(DialogContext)\r\n    const {isCodeDialogOpen,openCodeDialog} = useContext(CodeContext);\r\n    const {switchDarkMode} = useContext(DarkModeContext);\r\n\r\n    const [currBalance,setCurrBalance] = useState(0);\r\n    const [currXp,setCurrXp] = useState(0);\r\n\r\n    const [isBalanceCharging,setIsBalanceCharging] = useState(false);\r\n    const [isXpCharging,setIsXpCharging] = useState(false);\r\n\r\n    const [isNotificationIcon,setIsNotificationIcon] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        if(balance)\r\n        {\r\n            if(!test)\r\n            {\r\n                let value = balance-currBalance;\r\n                if(value===0) return;\r\n\r\n                setIsBalanceCharging(true);\r\n                onCharging(value>0);\r\n\r\n                let curr = currBalance;\r\n                const interval = setInterval(()=>{\r\n                    if(value ===0){setIsBalanceCharging(false);onCharging(null);clearInterval(interval)}\r\n        \r\n                    let delta = delting(value);\r\n                    \r\n                    curr += delta;\r\n                    setCurrBalance(curr);\r\n\r\n                    value-=delta;\r\n                },30)\r\n\r\n                return ()=> {setIsBalanceCharging(false);onCharging(null);clearInterval(interval)}\r\n            }\r\n            else setCurrBalance(balance)\r\n            \r\n        }\r\n\r\n    },[balance])\r\n\r\n    useEffect(()=>{\r\n\r\n        if(xp)\r\n        {\r\n            if(!test)\r\n            {\r\n                let value = xp-currXp;\r\n                if(value===0) return\r\n\r\n                setIsXpCharging(true);\r\n\r\n                let curr = currXp;\r\n                const interval = setInterval(()=>{\r\n                    if(value ===0) {setIsXpCharging(false);clearInterval(interval)}\r\n        \r\n                    let delta = delting(value);\r\n                    \r\n                    curr += delta;\r\n                    setCurrXp(curr);\r\n    \r\n                    value-=delta;\r\n                },30)\r\n    \r\n                return ()=> {setIsXpCharging(false);clearInterval(interval)}\r\n            }\r\n            else setCurrXp(xp);\r\n            \r\n        }\r\n        \r\n    },[xp])\r\n\r\n    useEffect(()=>{\r\n        if(isNotification) setIsNotificationIcon(true);\r\n    },[isNotification])\r\n\r\n\r\n\r\n    const handleOpenInfoXp = ()=>{\r\n        setTextDialog(\"GGs points\",\"Gained Greens, aka XP, calculated by the single rounds won * 10.\")\r\n    }\r\n    \r\n    const handleOpenCodeDialog = ()=>{\r\n        setIsNotificationIcon(false);\r\n        openCodeDialog();\r\n    }\r\n\r\n    return (\r\n    <div className=\"acc\" >\r\n        <div className='acc-box darker-color-box'>\r\n            <div style={{scale:(isXpCharging?\"1.2\":\"1\")}}>{currXp}GGs</div>\r\n            <button className={(!isDialog? 'scale-hoverable':\"\")} onClick={handleOpenInfoXp}>i </button>\r\n        </div>\r\n        \r\n        <div className='acc-box' >\r\n            <div className='darker-color' style={{scale:(isBalanceCharging?\"1.2\":\"1\")}}>{currBalance}$ </div>\r\n            <div className='notification'>\r\n                <button className={(\"darker-color \"+(!isCodeDialogOpen? 'scale-hoverable':\"\"))} onClick={handleOpenCodeDialog}>+</button>\r\n                {isNotificationIcon && <span></span>}\r\n            </div>\r\n            \r\n        </div>\r\n        \r\n        <label className=\"switch\">\r\n            <input type=\"checkbox\" onClick={()=>switchDarkMode()} defaultChecked/>\r\n            <span className=\"slider round\"> </span>\r\n        </label>\r\n        \r\n    </div>  );\r\n}\r\n \r\nexport default Account;\r\n\r\nconst delting = (value) =>{\r\n    return value>0? Math.ceil(value/30):Math.floor(value/30);\r\n}\r\n\r\n\r\n    \r\n\r\n    ","import React  from 'react';\r\nimport { useState } from 'react';\r\nimport { useContext } from 'react';\r\nimport { AccountContext } from '../../context/AccountContext';\r\nimport { Name } from '../../components/Name';\r\nimport { Link } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\nimport { Random } from '../../models/random';\r\nimport './local.css';\r\n\r\nconst RoomList = ({gameId}) => {\r\n\r\n    const {getBalance} = useContext(AccountContext);//use myBalance instead\r\n    const balance = getBalance();\r\n\r\n    const maxRangePrice = toRangePriceFloor(balance);\r\n    const [myRangePrice,setMyRangePrice]= useState(toRangePriceFloor(Math.floor(balance/10)))\r\n    const [myColor,setMyColor]=useState(\"black\");\r\n    const [list,setList]=useState(initList(maxRangePrice))\r\n\r\n    useEffect(()=>{\r\n        const interval = setInterval(()=>{\r\n            setList(changeList(list,maxRangePrice))\r\n        },Random.getRandomRangeIn(5,10)*1000)//1-5s\r\n        return ()=>clearInterval(interval)\r\n    },[])\r\n    \r\n    \r\n    return (\r\n        <div className='roomlistbox forth-color' >\r\n            <div className='header'>\r\n                <div>ROOMS</div>\r\n                <div style={{whiteSpace:\"nowrap\"}}>{myRangePrice}$ - {maxRangePrice}$</div>\r\n                <input type=\"range\" min=\"0\" max={getRangePriceIndex(maxRangePrice)} value={getRangePriceIndex(myRangePrice)} onChange={event=>setMyRangePrice(getRangePrice(event.target.value))}></input>\r\n            </div>\r\n\r\n            <div className='list'>\r\n                {list.filter(item=>item.price>=myRangePrice).map((item,i)=>(\r\n                <div className='item' key={i}>\r\n                    <Name name={item.name}/>\r\n                    <div >{item.color.toUpperCase()}</div> {/*<span role=\"img\"aria-label=\"color\">♥️♦️♠️♣️</span>*/}\r\n                    <div>{item.price}$</div>\r\n                    <Link to={{ pathname: (\"/\"+[\"game\",gameId,item.color===\"black\"?\"red\":\"black\",item.name,item.price].join(\"/\"))}}>\r\n                        <button> JOIN </button>\r\n                    </Link>\r\n                </div>\r\n                ))}\r\n            </div>\r\n\r\n            <div className='item'>\r\n                <Name myname/>\r\n                <div className='hoverable' onClick={()=>{setMyColor(myColor===\"black\"?\"red\":\"black\")}} style={{textDecoration:\"underline\"}}>{myColor.toUpperCase()}</div>\r\n                <div>{myRangePrice}$</div>\r\n                <button disabled>CREATE</button>\r\n            </div>\r\n        </div>);\r\n}\r\n \r\nexport default RoomList;\r\n\r\n//local\r\n\r\nconst initList=(maxRangePrice)=>{\r\n    let res=[];\r\n\r\n    let initLength = getInitLength(maxRangePrice);\r\n    let maxIndex = getRangePriceIndex(maxRangePrice);\r\n    for(let i =0;i<initLength;i++)\r\n    {\r\n        res.push(new ListItem(Random.getRandomName(),Random.getRandomColorOfColor(),getRangePrice(Random.getRandomIn(maxIndex))))\r\n    }\r\n\r\n    res.sort(function(a,b){  return b.price- a.price;  });\r\n    return res;\r\n}\r\n\r\nconst changeList=(list,maxRangePrice)=>{\r\n    let res=[...list];\r\n\r\n    let toDelete = getDeleteLength(maxRangePrice);\r\n    \r\n    for(let i =0;i<toDelete;i++)\r\n    {\r\n        if(res.length<=0)break;\r\n        res.splice(Math.floor(Math.random()*res.length), 1);\r\n    }\r\n\r\n    let toAdd = getAddLength(maxRangePrice);\r\n    let maxIndex = getRangePriceIndex(maxRangePrice);\r\n    for(let i =0;i<toAdd;i++)\r\n    {\r\n        res.push(new ListItem(Random.getRandomName(),Random.getRandomColorOfColor(),getRangePrice(Random.getRandomIn(maxIndex))))\r\n    }\r\n\r\n    res.sort(function(a,b){  return b.price- a.price;  });\r\n    return res;\r\n}\r\n\r\nclass ListItem{\r\n    constructor(name,color,price)\r\n    {\r\n        this.name = name;\r\n        this.color = color;\r\n        this.price = price;\r\n    }\r\n}\r\n\r\n\r\n//range price = [1,2,4,8,10,20,40,80,...]\r\n\r\nconst toRangePriceFloor=(price)=>{\r\n    if(price<1) return 1\r\n    let base = Math.pow(10, Math.floor(Math.log10(price)))\r\n    while(base*2<price) base*=2;\r\n    return base\r\n}\r\n\r\nconst getRangePriceIndex=(maxPrice)=>{\r\n    let index=0;\r\n    while(getRangePrice(index)<=maxPrice)index++;\r\n    return index-1;\r\n}\r\n\r\nconst getRangePrice=(index)=>{\r\n    return Math.pow(2,index%4) * Math.pow(10,Math.floor(index/4))\r\n}\r\n\r\n//local of local\r\nconst getInitLength=(maxRangePrice)=>{// maxRangePrice = 100 => 8 => 15\r\n    let i = getRangePriceIndex(maxRangePrice);\r\n    let s = Math.ceil(Math.sqrt(i))*5;\r\n    return 1+Random.getRandom(s)\r\n}\r\n\r\nconst getAddLength=(maxRangePrice)=>{// maxRangePrice = 100 => 8 => 2\r\n    let i = getRangePriceIndex(maxRangePrice);\r\n    let s = Math.ceil(Math.sqrt(i));\r\n    return Random.getRandom(s)\r\n}\r\n\r\nconst getDeleteLength=(maxRangePrice)=>{// maxRangePrice = 100 => 8 => 2\r\n    let i = getRangePriceIndex(maxRangePrice);\r\n    let s = Math.ceil(Math.sqrt(i));\r\n    return Random.getRandom(s)\r\n}\r\n","import React, { useContext }  from 'react';\r\nimport { useParams } from 'react-router';\r\nimport { DialogContext } from '../context/DialogContext';\r\nimport { GameSet } from '../models/consts';\r\nimport RoomList from './components/RoomList';\r\nimport style from './local.css'\r\n\r\nconst WaitingRoom = () => {\r\n\r\n    let { id } = useParams();\r\n\r\n    let game = GameSet.getGame(id);\r\n    \r\n    const {isDialog} = useContext(DialogContext);\r\n\r\n    return ( \r\n        <div className={\"blurable \" + (isDialog?\"blured\":\"\") + \" layout\"} >\r\n            <div className={style.content}>\r\n                <RoomList gameId={game.id}/>\r\n            </div>\r\n\r\n            <div>\r\n                <h2>{game.name}</h2>\r\n                <div className=\"layout-info\">ABOUT\r\n                    <div>{game.about()}</div>\r\n                </div>\r\n                <div className=\"layout-info\">INFO\r\n                    <div>Points: {game.points.join(\"pkt, \")}pkt</div>\r\n                    <div>Game type: {game.type}</div>\r\n                    <div>Round time: {game.getRoundTime()}s</div>\r\n                    <div>{game.handDeckSize} hand cards</div>\r\n                    <div>{game.tableDeckSize} table cards</div>\r\n                </div>\r\n                <div className=\"layout-info\">RULES\r\n                    <div>Card closest to the one on the table wins</div>\r\n                    <div>If figure is the same - color matters</div> \r\n                    <div>Last round has higher punctation</div>\r\n                    <div>So play smart, play LATER!</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n     );\r\n}\r\n\r\nexport default WaitingRoom;","\r\nimport React, { useEffect, useState } from 'react'\r\n\r\nconst consts={\r\n    refreshTime:10,\r\n    initTotalPlayers:420,\r\n    initTotalPlayersDelta:100,\r\n    initGamePlayers:100,\r\n    initGamePlayersDelta:20,\r\n    totalPlayersDelta:5,\r\n    gamePlayersDelta:4,\r\n}\r\n\r\nexport const OnlineContext = React.createContext();\r\n\r\nconst OnlineProvider = ({children})=>\r\n{\r\n    //const [gamePlayers,setGamePlayers] = useState(getInitGamePlayers());// {red, black}\r\n    const [totalPlayers,setTotalPlayers] = useState(getInitTotalPlayers());\r\n\r\n    useEffect(() => {\r\n        var initTotalPlayers = totalPlayers;\r\n        //var initGamePlayers = gamePlayers;\r\n\r\n        const interval = setInterval(() => {\r\n\r\n            //total\r\n            let rand = getRandom(consts.totalPlayersDelta);\r\n            if(totalPlayers>initTotalPlayers) setTotalPlayers(totalPlayers-rand)\r\n            else setTotalPlayers(totalPlayers+rand);\r\n\r\n            //game\r\n            /*\r\n            let red = gamePlayers.red;\r\n            let black = gamePlayers.black;\r\n            rand = getRandom(consts.gamePlayersDelta);\r\n            if(red+black > initGamePlayers.red+initGamePlayers.black)\r\n            {\r\n                if(red>black)  setGamePlayers({red:red-rand,black:black})\r\n                else setGamePlayers({red:red,black:black-rand})\r\n            }\r\n            else\r\n            {\r\n                if(red>black)  setGamePlayers({red:red,black:black+rand})\r\n                else setGamePlayers({red:red,black:black+rand})\r\n            }\r\n            */\r\n        }, consts.refreshTime*1000);\r\n\r\n        return () => clearInterval(interval)\r\n      }, []);\r\n    \r\n\r\n    return(\r\n        <OnlineContext.Provider value={{/*gamePlayers,*/totalPlayers}}>{children}</OnlineContext.Provider>\r\n    )\r\n}\r\n\r\nexport default OnlineProvider;\r\n\r\n//local\r\n\r\n/*\r\nconst getInitGamePlayers =()=> {\r\n    let all = consts.initGamePlayers+getRandomDelta( consts.initGamePlayersDelta);\r\n    return {red:Math.floor(all/2),black:Math.floor(all/2)}\r\n}\r\n*/\r\n\r\nconst getInitTotalPlayers =()=> {\r\n    return consts.initTotalPlayers+ getRandomDelta(consts.initTotalPlayersDelta)\r\n}\r\n\r\n//local of local\r\n\r\nconst getRandom =(range)=>{//return number between 0 - (range-1)\r\nreturn Math.floor(Math.random()*range);\r\n}\r\n\r\nconst getRandomDelta =(delta)=>{//return number between 0 - (range-1)\r\nreturn -delta + getRandom(delta*2)\r\n}","import React, { useContext}  from 'react';\r\nimport { OnlineContext } from '../context/OnlineContext';\r\n\r\nconst Online = () => {\r\n\r\n    const {totalPlayers} = useContext(OnlineContext);\r\n\r\n    return (<div className=\"online-id\" >ONLINE: {totalPlayers}</div>);\r\n}\r\nexport default Online;\r\n\r\n","import React, { useContext } from 'react';\nimport Home from './p-home/Home';\nimport CGame from './p-play-room/CGame';\nimport {HashRouter as Router,Route,Routes} from 'react-router-dom'\nimport Account  from './components/Account';\nimport WaitingRoom from './p-waiting-room/WaitingRoom';\nimport Online from './components/Online'\nimport OnlineProvider from './context/OnlineContext';\nimport NotificationProvider from './context/NotificationContext';\nimport AccountProvider from './context/AccountContext';\nimport DialogProvider from './context/DialogContext';\nimport { DarkModeContext } from './context/DarkModeContext';\nimport CodeProvider from './context/CodeContext';\nimport { useState } from 'react';\n\nfunction App() {\n\n  const {isDarkMode} = useContext(DarkModeContext);\n\n  const [navBarGold,setNavBarGold] = useState(null);//true-gold,false-red,null-default\n\n  const getNavBarClass =()=>{\n    if(navBarGold===null) return \"primary-color\";\n    return navBarGold?\"goldish-bg\":\"redish-bg\"\n  }\n\n  return (\n    \n      <div className={\"App \" +(isDarkMode?\"secondary-color\":\"third-color\")} >\n      \n      <DialogProvider>\n      <NotificationProvider>\n      <AccountProvider>\n      <CodeProvider>\n          <div className={'navbar '+getNavBarClass()}>\n            <div className='darker-color'><b>LATER <span role=\"img\" aria-label=\"dot\">🎴</span></b> the gambling game</div>\n            <div><Account onCharging={(val)=>{setNavBarGold(val)}}></Account></div>\n          </div>\n\n        <div className='content'>\n          <OnlineProvider>\n                <Router>\n                  <Routes>\n                    <Route exact path='/' element={<Home/>} />\n                    <Route exact path='/waiting-room/:id' element={<WaitingRoom/>} />\n                    <Route exact path='/game/:id/:myColor/:opName/:enterPrice' element={<CGame/>} />\n                  </Routes>\n                </Router>\n              \n              <Online/>\n          </OnlineProvider>\n          </div>\n      </CodeProvider>\n      </AccountProvider>\n      </NotificationProvider>\n      </DialogProvider>\n      \n      </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport DarkModeProvider from './context/DarkModeContext';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <DarkModeProvider >\n      <App />\n    </DarkModeProvider>\n  </React.StrictMode>\n);\n"],"sourceRoot":""}